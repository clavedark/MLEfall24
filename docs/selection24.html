<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Dave Clark">
<meta name="dcterms.date" content="2024-12-03">

<title>Continuous Time Hazards – MLE - Fall 2024</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/htmltools-fill/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets/htmlwidgets.js"></script>
<script src="site_libs/jquery/jquery.min.js"></script>
<script src="site_libs/proj4js/proj4.js"></script>
<link href="site_libs/highcharts/css/motion.css" rel="stylesheet">
<script src="site_libs/highcharts/highcharts.js"></script>
<script src="site_libs/highcharts/highcharts-3d.js"></script>
<script src="site_libs/highcharts/highcharts-more.js"></script>
<script src="site_libs/highcharts/modules/stock.js"></script>
<script src="site_libs/highcharts/modules/map.js"></script>
<script src="site_libs/highcharts/modules/data.js"></script>
<script src="site_libs/highcharts/modules/exporting.js"></script>
<script src="site_libs/highcharts/modules/offline-exporting.js"></script>
<script src="site_libs/highcharts/modules/drilldown.js"></script>
<script src="site_libs/highcharts/modules/item-series.js"></script>
<script src="site_libs/highcharts/modules/overlapping-datalabels.js"></script>
<script src="site_libs/highcharts/modules/annotations.js"></script>
<script src="site_libs/highcharts/modules/export-data.js"></script>
<script src="site_libs/highcharts/modules/funnel.js"></script>
<script src="site_libs/highcharts/modules/heatmap.js"></script>
<script src="site_libs/highcharts/modules/treemap.js"></script>
<script src="site_libs/highcharts/modules/sankey.js"></script>
<script src="site_libs/highcharts/modules/dependency-wheel.js"></script>
<script src="site_libs/highcharts/modules/organization.js"></script>
<script src="site_libs/highcharts/modules/solid-gauge.js"></script>
<script src="site_libs/highcharts/modules/streamgraph.js"></script>
<script src="site_libs/highcharts/modules/sunburst.js"></script>
<script src="site_libs/highcharts/modules/vector.js"></script>
<script src="site_libs/highcharts/modules/wordcloud.js"></script>
<script src="site_libs/highcharts/modules/xrange.js"></script>
<script src="site_libs/highcharts/modules/tilemap.js"></script>
<script src="site_libs/highcharts/modules/venn.js"></script>
<script src="site_libs/highcharts/modules/gantt.js"></script>
<script src="site_libs/highcharts/modules/timeline.js"></script>
<script src="site_libs/highcharts/modules/parallel-coordinates.js"></script>
<script src="site_libs/highcharts/modules/bullet.js"></script>
<script src="site_libs/highcharts/modules/coloraxis.js"></script>
<script src="site_libs/highcharts/modules/dumbbell.js"></script>
<script src="site_libs/highcharts/modules/lollipop.js"></script>
<script src="site_libs/highcharts/modules/series-label.js"></script>
<script src="site_libs/highcharts/plugins/motion.js"></script>
<script src="site_libs/highcharts/custom/reset.js"></script>
<script src="site_libs/highcharts/modules/boost.js"></script>
<script src="site_libs/highchart-binding/highchart.js"></script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">MLE - Fall 2024</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./slides.html"> 
<span class="menu-text">Slides</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./mlesyllabus24.html"> 
<span class="menu-text">MLE Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./code.html"> 
<span class="menu-text">Code</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools tools-wide">
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label=""><i class="bi bi-github"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/clavedark/MLEfall24">
            repo
            </a>
          </li>
      </ul>
    </div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Continuous Time Hazards</h1>
                      </div>
  </div>
    
  <div class="quarto-title-meta-author">
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-heading">Affiliation</div>
    
      <div class="quarto-title-meta-contents">
      <p class="author">Dave Clark </p>
    </div>
    <div class="quarto-title-meta-contents">
          <p class="affiliation">
              Binghamton University
            </p>
        </div>
    </div>

  <div class="quarto-title-meta">

        
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">December 3, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#partial-observation" id="toc-partial-observation" class="nav-link active" data-scroll-target="#partial-observation">Partial Observation</a>
  <ul class="collapse">
  <li><a href="#truncation-and-censoring" id="toc-truncation-and-censoring" class="nav-link" data-scroll-target="#truncation-and-censoring">Truncation and Censoring</a></li>
  <li><a href="#mills-ratio" id="toc-mills-ratio" class="nav-link" data-scroll-target="#mills-ratio">Mills Ratio</a>
  <ul class="collapse">
  <li><a href="#censoring" id="toc-censoring" class="nav-link" data-scroll-target="#censoring">Censoring</a></li>
  </ul></li>
  <li><a href="#a-model-for-censored-data" id="toc-a-model-for-censored-data" class="nav-link" data-scroll-target="#a-model-for-censored-data">A Model for Censored Data</a></li>
  <li><a href="#sample-selection" id="toc-sample-selection" class="nav-link" data-scroll-target="#sample-selection">Sample Selection</a></li>
  <li><a href="#incidental-truncation" id="toc-incidental-truncation" class="nav-link" data-scroll-target="#incidental-truncation">Incidental Truncation</a></li>
  <li><a href="#examples-of-the-selection-model" id="toc-examples-of-the-selection-model" class="nav-link" data-scroll-target="#examples-of-the-selection-model">Examples of the Selection Model</a></li>
  <li><a href="#censored-probit" id="toc-censored-probit" class="nav-link" data-scroll-target="#censored-probit">Censored Probit</a></li>
  <li><a href="#also" id="toc-also" class="nav-link" data-scroll-target="#also">Also …</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<!-- rm(list=ls()) -->
<section id="partial-observation" class="level1">
<h1>Partial Observation</h1>
<ul>
<li>Sometimes the variables we observe are truncated or censored realizations of the underlying distributions from which they arise.</li>
<li>often, this occurs where the appearance of some values of variables is either impossible or conditional on some other process.</li>
<li>observing vote choice depends on registration.</li>
<li>war outcome depends on war onset.</li>
<li>All this points to about 50 years worth of work in economics where econometricians have been figuring out the consequences of truncation and censoring and ways to estimate models that account for the two.</li>
</ul>
<section id="truncation-and-censoring" class="level2">
<h2 class="anchored" data-anchor-id="truncation-and-censoring">Truncation and Censoring</h2>
<p>Truncation and censoring are two different reasons we only observe some part of the distribution of a variable. The difference between the two lies in why we only observe part of the distribution.</p>
<p>A truncated variable is one that only represents part of a distribution because the researcher chooses to examine that part to the exclusion of the remainder of the distribution. The result is that observations where the variable, <span class="math inline">\(y\)</span> takes on values below (above) a threshold <span class="math inline">\({\mathrm a}\)</span> are discarded from the sample. The distribution of the observed variable is thus a truncated distribution.</p>
<p>The density of a truncated continuous variable is,</p>
<p><span class="math display">\[
f(x|x&gt;a) = \frac{f(x)}{Pr(x&gt;a)} \nonumber
\]</span></p>
<p>The distribution of <span class="math inline">\(x\)</span> is conditional on <span class="math inline">\(Pr(x&gt;a)\)</span>, which makes sense because we only have information on values of <span class="math inline">\(x\)</span> that exceed <span class="math inline">\(a\)</span>.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(truncnorm)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Define parameters for the truncated normal distributions</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>a_values <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.5</span>, <span class="dv">0</span>, <span class="sc">-</span><span class="fl">0.5</span>)  <span class="co">#Different truncation points</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>means <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.45</span>,<span class="fl">0.31</span>, <span class="fl">0.2</span>)  <span class="co">#Means corresponding to each truncation point.  These were eyeballed from the image</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame to store the density values</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>x_values <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">6</span>,<span class="dv">6</span>, <span class="at">length.out=</span><span class="dv">500</span>) <span class="co"># x values for density calculations</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate density values for each distribution</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(a_values)) {</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  a <span class="ot">&lt;-</span> a_values[i]</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  mean <span class="ot">&lt;-</span> means[i]</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  density_values <span class="ot">&lt;-</span> <span class="fu">dtruncnorm</span>(x_values, <span class="at">a=</span>a, <span class="at">b=</span><span class="cn">Inf</span>, <span class="at">mean=</span>mean, <span class="at">sd=</span><span class="dv">1</span>) <span class="co">#Note: assumes sd =1</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>  temp_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> x_values, <span class="at">density =</span> density_values, <span class="at">a =</span> a, <span class="at">mean=</span>mean)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">rbind</span>(df, temp_df)</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the plot using ggplot2</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>truncated <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> density, <span class="at">color =</span> <span class="fu">factor</span>(<span class="fu">paste</span>(<span class="st">"a ="</span>,a, <span class="st">", mean ="</span>,mean)))) <span class="sc">+</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">size=</span><span class="dv">1</span>) <span class="sc">+</span> <span class="co">#Increase line size for better visibility</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept=</span><span class="dv">0</span>, <span class="at">linetype=</span><span class="st">"dashed"</span>, <span class="at">color=</span><span class="st">"grey"</span>)<span class="sc">+</span> <span class="co">#Adds horizontal line at y=0</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Truncated Normal Distributions"</span>,</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"x"</span>,</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Density"</span>,</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Parameters"</span>) <span class="sc">+</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> <span class="co">#Clean theme</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"right"</span>) <span class="sc">+</span> <span class="co">#Legend position</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>(<span class="at">labels=</span><span class="fu">paste</span>(<span class="st">"a ="</span>,a_values, <span class="st">", mean ="</span>,means)) <span class="co">#Custom legend labels</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a line for the standard normal</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>standard_normal <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> x_values, <span class="at">density =</span> <span class="fu">dnorm</span>(x_values, <span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">1</span>))</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>plot <span class="ot">&lt;-</span> truncated <span class="sc">+</span> <span class="fu">geom_line</span>(<span class="at">data =</span> standard_normal, <span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> density), <span class="at">color=</span><span class="st">"grey"</span>, <span class="at">linetype=</span><span class="st">"dashed"</span>, <span class="at">size=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="sc">-</span><span class="dv">5</span>, <span class="at">y =</span> <span class="fl">0.1</span>, <span class="at">label =</span> <span class="st">"f(x) ~ N(0,1)"</span>, <span class="at">hjust =</span> <span class="dv">0</span>)</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="selection24_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Notice how the means of the distribution shift with the truncation. Also, notice that the truncation illustrated here is strictly “from below” - that is, the truncation or limiting points on the distributions cut off all observations to the left of the truncation point <span class="math inline">\(a\)</span>. Of course, a truncated distribution might be truncated “from above” where exactly the opposite is true.</p>
<p>The moments of the truncated normal will resemble those of the normal, but must account for the truncation. So, whereas <span class="math inline">\(E[y] = \mu\)</span> in the normal, in the truncated normal,</p>
<p><span class="math display">\[
E[y|a] = \mu + \sigma \left[ \frac{\phi \left( \frac{a-\mu}{\sigma} \right)} {1-\Phi \left( \frac{a-\mu}{\sigma} \right)} \right]\nonumber
\]</span></p>
<p>For notational consistency, let’s note that Greene simplifies this so that</p>
<p><span class="math display">\[
\alpha=\frac{a-\mu}{\sigma} \nonumber \\  \nonumber \\
\lambda(\alpha) =  \frac{\phi(\alpha)}{1-\Phi(\alpha)}  \nonumber \\ \nonumber \\
\text{so}  \nonumber \\ \nonumber \\
E[y|a] = \mu + \sigma \lambda(\alpha) \nonumber
\]</span></p>
<ul>
<li>Truncation from below will increase the mean of the truncated distribution above that of the full distribution.</li>
<li>Truncation from above will reduce the mean of the truncated distribution.</li>
<li>The truncated variance will be smaller than the variance of the full distribution.</li>
</ul>
<p>Another way to see this is to look at the truncated variance:</p>
<p><span class="math display">\[
Var[y|a] =  \sigma^2[1-\delta(\alpha)]\nonumber
\]</span></p>
<p>where <span class="math inline">\(\alpha\)</span> is the same as above, and <span class="math inline">\(\delta(\alpha)\)</span> is</p>
<p><span class="math display">\[
\delta(\alpha) =  \lambda(\alpha)[\lambda(\alpha)-\alpha] \nonumber \\ \nonumber \\
0 &lt; \delta(\alpha)&lt; 1 \nonumber
\]</span></p>
<p>So the truncated variance is equal to the untruncated variance weighted by the quantity <span class="math inline">\(1-\delta(\alpha)\)</span>. As Greene points out, the boundaries on <span class="math inline">\(\delta(\alpha)\)</span> ensure the truncated variance above will be smaller than the variance of the untruncated distribution.</p>
</section>
<section id="mills-ratio" class="level2">
<h2 class="anchored" data-anchor-id="mills-ratio">Mills Ratio</h2>
<p><span class="math inline">\(\lambda(\alpha)\)</span> is known as the <em>Inverse Mills Ratio</em>, a quantity that is important to the development of some selection models where the selection is the result of truncation.</p>
<p>The inverse Mills ratio is approximately the likelihood any observation <span class="math inline">\(i\)</span> is truncated - so it represents the likelihood <span class="math inline">\(i\)</span> does not make it into the sample.</p>
<p>This is a very direct way to conceptualize the problem of truncation or censoring - some portion of the latent variable, <span class="math inline">\(y^*\)</span> makes it into the observed sample while some other portion is either excluded altogether (in the truncated case) or is included but coded at the limit (in the censored case). Accounting for those likelihoods is critical to the project of recovering the parameters relevant to the full, untruncated or uncensored distribution.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Binghamton University Colors</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>binghamton_colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#005A43"</span>, <span class="st">"#8C2132"</span>, <span class="st">"#FFD100"</span>, <span class="st">"#000000"</span>, <span class="st">"#636466"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># X-values</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">3</span>, <span class="dv">3</span>, <span class="at">length.out =</span> <span class="dv">200</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate y-values</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>mills_ratio <span class="ot">&lt;-</span> <span class="fu">dnorm</span>(x) <span class="sc">/</span> <span class="fu">pnorm</span>(x, <span class="at">lower.tail =</span> <span class="cn">FALSE</span>)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>normal_cdf <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(x)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>normal_pdf <span class="ot">&lt;-</span> <span class="fu">dnorm</span>(x)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare data for Highcharter in a more suitable format for the legend to work correctly</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">rep</span>(x,<span class="dv">3</span>), </span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>                   <span class="at">y =</span> <span class="fu">c</span>(mills_ratio, normal_cdf, normal_pdf),</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>                   <span class="at">series =</span> <span class="fu">factor</span>(<span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"Inverse Mills Ratio"</span>, <span class="st">"Normal CDF"</span>, <span class="st">"Normal PDF"</span>), <span class="at">each =</span> <span class="fu">length</span>(x))))</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Highcharter plot WITH LEGEND</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(data, <span class="st">"line"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y, <span class="at">group =</span> series)) <span class="sc">%&gt;%</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_colors</span>(binghamton_colors[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">5</span>)]) <span class="sc">%&gt;%</span> </span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Mills Ratio and Normal Distribution Functions"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"(μ-a)/σ"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Value"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_legend</span>(<span class="at">align =</span> <span class="st">"left"</span>, <span class="at">verticalAlign =</span> <span class="st">"bottom"</span>, <span class="at">layout =</span> <span class="st">"horizontal"</span>) <span class="sc">%&gt;%</span> <span class="co">#Legend at bottom</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_exporting</span>(<span class="at">enabled =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_tooltip</span>(<span class="at">headerFormat=</span> <span class="st">''</span>, <span class="at">pointFormat =</span> <span class="st">'&lt;b&gt;{series.name}:&lt;/b&gt; {point.y:.2f}'</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-cb9b160aa0f9f35298fa" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-cb9b160aa0f9f35298fa">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Mills Ratio and Normal Distribution Functions"},"yAxis":{"title":{"text":"Value"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":true},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":true},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"name":"Inverse Mills Ratio","data":[{"x":-3,"y":0.004437839042125664,"seriess":"Inverse Mills Ratio"},{"x":-2.969849246231156,"y":0.004856438320972422,"seriess":"Inverse Mills Ratio"},{"x":-2.939698492462312,"y":0.005309762683901731,"seriess":"Inverse Mills Ratio"},{"x":-2.909547738693467,"y":0.005800210001350119,"seriess":"Inverse Mills Ratio"},{"x":-2.879396984924623,"y":0.006330298659416266,"seriess":"Inverse Mills Ratio"},{"x":-2.849246231155779,"y":0.006902669732173376,"seriess":"Inverse Mills Ratio"},{"x":-2.819095477386935,"y":0.007520088855651454,"seriess":"Inverse Mills Ratio"},{"x":-2.788944723618091,"y":0.008185447775057047,"seriess":"Inverse Mills Ratio"},{"x":-2.758793969849246,"y":0.008901765537135569,"seriess":"Inverse Mills Ratio"},{"x":-2.728643216080402,"y":0.009672189300178031,"seriess":"Inverse Mills Ratio"},{"x":-2.698492462311558,"y":0.01049999473504138,"seriess":"Inverse Mills Ratio"},{"x":-2.668341708542714,"y":0.01138858599169833,"seriess":"Inverse Mills Ratio"},{"x":-2.63819095477387,"y":0.01234149520726573,"seriess":"Inverse Mills Ratio"},{"x":-2.608040201005025,"y":0.01336238153318232,"seriess":"Inverse Mills Ratio"},{"x":-2.577889447236181,"y":0.01445502966121779,"seriess":"Inverse Mills Ratio"},{"x":-2.547738693467337,"y":0.01562334783029113,"seriess":"Inverse Mills Ratio"},{"x":-2.517587939698493,"y":0.01687136529864871,"seriess":"Inverse Mills Ratio"},{"x":-2.487437185929648,"y":0.01820322926879183,"seriess":"Inverse Mills Ratio"},{"x":-2.457286432160804,"y":0.01962320125563122,"seriess":"Inverse Mills Ratio"},{"x":-2.42713567839196,"y":0.02113565289166435,"seriess":"Inverse Mills Ratio"},{"x":-2.396984924623116,"y":0.0227450611664957,"seriess":"Inverse Mills Ratio"},{"x":-2.366834170854272,"y":0.02445600310172248,"seriess":"Inverse Mills Ratio"},{"x":-2.336683417085427,"y":0.02627314986605858,"seriess":"Inverse Mills Ratio"},{"x":-2.306532663316583,"y":0.0282012603395316,"seriess":"Inverse Mills Ratio"},{"x":-2.276381909547739,"y":0.03024517413962519,"seriess":"Inverse Mills Ratio"},{"x":-2.246231155778895,"y":0.03240980412631166,"seriess":"Inverse Mills Ratio"},{"x":-2.21608040201005,"y":0.03470012840698362,"seriess":"Inverse Mills Ratio"},{"x":-2.185929648241206,"y":0.03712118186630878,"seriess":"Inverse Mills Ratio"},{"x":-2.155778894472362,"y":0.03967804724994994,"seriess":"Inverse Mills Ratio"},{"x":-2.125628140703518,"y":0.04237584583487082,"seriess":"Inverse Mills Ratio"},{"x":-2.095477386934673,"y":0.04521972772254432,"seriess":"Inverse Mills Ratio"},{"x":-2.065326633165829,"y":0.04821486179474526,"seriess":"Inverse Mills Ratio"},{"x":-2.035175879396985,"y":0.05136642537471078,"seriess":"Inverse Mills Ratio"},{"x":-2.005025125628141,"y":0.05467959363924379,"seriess":"Inverse Mills Ratio"},{"x":-1.974874371859296,"y":0.05815952882978415,"seriess":"Inverse Mills Ratio"},{"x":-1.944723618090452,"y":0.06181136931255191,"seriess":"Inverse Mills Ratio"},{"x":-1.914572864321608,"y":0.06564021853953957,"seriess":"Inverse Mills Ratio"},{"x":-1.884422110552764,"y":0.06965113396338629,"seriess":"Inverse Mills Ratio"},{"x":-1.85427135678392,"y":0.07384911595997869,"seriess":"Inverse Mills Ratio"},{"x":-1.824120603015075,"y":0.07823909681298316,"seriess":"Inverse Mills Ratio"},{"x":-1.793969849246231,"y":0.0828259298144193,"seriess":"Inverse Mills Ratio"},{"x":-1.763819095477387,"y":0.08761437853482933,"seriess":"Inverse Mills Ratio"},{"x":-1.733668341708543,"y":0.09260910631559174,"seriess":"Inverse Mills Ratio"},{"x":-1.703517587939699,"y":0.09781466603448327,"seriess":"Inverse Mills Ratio"},{"x":-1.673366834170854,"y":0.1032354901937227,"seriess":"Inverse Mills Ratio"},{"x":-1.64321608040201,"y":0.108875881377462,"seriess":"Inverse Mills Ratio"},{"x":-1.613065326633166,"y":0.1147400031230474,"seriess":"Inverse Mills Ratio"},{"x":-1.582914572864322,"y":0.1208318712473897,"seriess":"Inverse Mills Ratio"},{"x":-1.552763819095477,"y":0.1271553456664926,"seriess":"Inverse Mills Ratio"},{"x":-1.522613065326633,"y":0.1337141227426314,"seriess":"Inverse Mills Ratio"},{"x":-1.492462311557789,"y":0.1405117281898901,"seriess":"Inverse Mills Ratio"},{"x":-1.462311557788945,"y":0.1475515105648003,"seriess":"Inverse Mills Ratio"},{"x":-1.432160804020101,"y":0.1548366353647181,"seriess":"Inverse Mills Ratio"},{"x":-1.402010050251256,"y":0.1623700797523803,"seriess":"Inverse Mills Ratio"},{"x":-1.371859296482412,"y":0.1701546279208301,"seriess":"Inverse Mills Ratio"},{"x":-1.341708542713568,"y":0.1781928671086533,"seriess":"Inverse Mills Ratio"},{"x":-1.311557788944724,"y":0.1864871842712485,"seriess":"Inverse Mills Ratio"},{"x":-1.28140703517588,"y":0.1950397634097215,"seriess":"Inverse Mills Ratio"},{"x":-1.251256281407035,"y":0.2038525835549684,"seriess":"Inverse Mills Ratio"},{"x":-1.221105527638191,"y":0.212927417400648,"seriess":"Inverse Mills Ratio"},{"x":-1.190954773869347,"y":0.2222658305750526,"seriess":"Inverse Mills Ratio"},{"x":-1.160804020100503,"y":0.2318691815384146,"seriess":"Inverse Mills Ratio"},{"x":-1.130653266331658,"y":0.2417386220889428,"seriess":"Inverse Mills Ratio"},{"x":-1.100502512562814,"y":0.2518750984579032,"seriess":"Inverse Mills Ratio"},{"x":-1.07035175879397,"y":0.2622793529713446,"seriess":"Inverse Mills Ratio"},{"x":-1.040201005025126,"y":0.2729519262536422,"seriess":"Inverse Mills Ratio"},{"x":-1.010050251256281,"y":0.2838931599459058,"seriess":"Inverse Mills Ratio"},{"x":-0.9798994974874371,"y":0.2951031999104567,"seriess":"Inverse Mills Ratio"},{"x":-0.949748743718593,"y":0.3065819998910488,"seriess":"Inverse Mills Ratio"},{"x":-0.9195979899497488,"y":0.3183293255972672,"seriess":"Inverse Mills Ratio"},{"x":-0.8894472361809047,"y":0.3303447591805916,"seriess":"Inverse Mills Ratio"},{"x":-0.8592964824120606,"y":0.3426277040689472,"seriess":"Inverse Mills Ratio"},{"x":-0.829145728643216,"y":0.3551773901261734,"seriess":"Inverse Mills Ratio"},{"x":-0.7989949748743719,"y":0.3679928791027056,"seriess":"Inverse Mills Ratio"},{"x":-0.7688442211055277,"y":0.3810730703438752,"seriess":"Inverse Mills Ratio"},{"x":-0.7386934673366836,"y":0.3944167067225723,"seriess":"Inverse Mills Ratio"},{"x":-0.7085427135678395,"y":0.408022380763552,"seriess":"Inverse Mills Ratio"},{"x":-0.6783919597989949,"y":0.4218885409274135,"seriess":"Inverse Mills Ratio"},{"x":-0.6482412060301508,"y":0.4360134980231745,"seriess":"Inverse Mills Ratio"},{"x":-0.6180904522613067,"y":0.4503954317194341,"seriess":"Inverse Mills Ratio"},{"x":-0.5879396984924625,"y":0.4650323971252935,"seriess":"Inverse Mills Ratio"},{"x":-0.5577889447236184,"y":0.4799223314135166,"seriess":"Inverse Mills Ratio"},{"x":-0.5276381909547738,"y":0.4950630604598028,"seriess":"Inverse Mills Ratio"},{"x":-0.4974874371859297,"y":0.5104523054735113,"seriess":"Inverse Mills Ratio"},{"x":-0.4673366834170856,"y":0.526087689596712,"seriess":"Inverse Mills Ratio"},{"x":-0.4371859296482414,"y":0.5419667444499959,"seriess":"Inverse Mills Ratio"},{"x":-0.4070351758793973,"y":0.5580869166050775,"seriess":"Inverse Mills Ratio"},{"x":-0.3768844221105527,"y":0.5744455739658239,"seriess":"Inverse Mills Ratio"},{"x":-0.3467336683417086,"y":0.5910400120409434,"seriess":"Inverse Mills Ratio"},{"x":-0.3165829145728645,"y":0.6078674600931588,"seriess":"Inverse Mills Ratio"},{"x":-0.2864321608040203,"y":0.6249250871512407,"seriess":"Inverse Mills Ratio"},{"x":-0.2562814070351762,"y":0.6422100078728106,"seriess":"Inverse Mills Ratio"},{"x":-0.2261306532663316,"y":0.6597192882473002,"seriess":"Inverse Mills Ratio"},{"x":-0.1959798994974875,"y":0.6774499511298828,"seriess":"Inverse Mills Ratio"},{"x":-0.1658291457286434,"y":0.6953989815985679,"seriess":"Inverse Mills Ratio"},{"x":-0.1356783919597992,"y":0.7135633321279592,"seriess":"Inverse Mills Ratio"},{"x":-0.1055276381909547,"y":0.7319399275744197,"seriess":"Inverse Mills Ratio"},{"x":-0.07537688442211055,"y":0.7505256699685682,"seriess":"Inverse Mills Ratio"},{"x":-0.04522613065326642,"y":0.769317443112129,"seriess":"Inverse Mills Ratio"},{"x":-0.01507537688442229,"y":0.7883121169771927,"seriess":"Inverse Mills Ratio"},{"x":0.01507537688442184,"y":0.8075065519069037,"seriess":"Inverse Mills Ratio"},{"x":0.04522613065326642,"y":0.8268976026174751,"seriess":"Inverse Mills Ratio"},{"x":0.07537688442211055,"y":0.8464821220022444,"seriess":"Inverse Mills Ratio"},{"x":0.1055276381909547,"y":0.8662569647392281,"seriess":"Inverse Mills Ratio"},{"x":0.1356783919597988,"y":0.8862189907043023,"seriess":"Inverse Mills Ratio"},{"x":0.1658291457286429,"y":0.9063650681927452,"seriess":"Inverse Mills Ratio"},{"x":0.1959798994974875,"y":0.9266920769524167,"seriess":"Inverse Mills Ratio"},{"x":0.2261306532663316,"y":0.9471969110323275,"seriess":"Inverse Mills Ratio"},{"x":0.2562814070351758,"y":0.9678764814507724,"seriess":"Inverse Mills Ratio"},{"x":0.2864321608040199,"y":0.9887277186875603,"seriess":"Inverse Mills Ratio"},{"x":0.316582914572864,"y":1.009747575005185,"seriess":"Inverse Mills Ratio"},{"x":0.3467336683417086,"y":1.030933026604045,"seriess":"Inverse Mills Ratio"},{"x":0.3768844221105527,"y":1.052281075617018,"seriess":"Inverse Mills Ratio"},{"x":0.4070351758793969,"y":1.073788751948887,"seriess":"Inverse Mills Ratio"},{"x":0.437185929648241,"y":1.095453114966223,"seriess":"Inverse Mills Ratio"},{"x":0.4673366834170851,"y":1.117271255043431,"seriess":"Inverse Mills Ratio"},{"x":0.4974874371859297,"y":1.13924029497072,"seriess":"Inverse Mills Ratio"},{"x":0.5276381909547738,"y":1.161357391229793,"seriess":"Inverse Mills Ratio"},{"x":0.557788944723618,"y":1.183619735143026,"seriess":"Inverse Mills Ratio"},{"x":0.5879396984924621,"y":1.206024553901923,"seriess":"Inverse Mills Ratio"},{"x":0.6180904522613062,"y":1.228569111480519,"seriess":"Inverse Mills Ratio"},{"x":0.6482412060301508,"y":1.251250709439404,"seriess":"Inverse Mills Ratio"},{"x":0.6783919597989949,"y":1.274066687625902,"seriess":"Inverse Mills Ratio"},{"x":0.708542713567839,"y":1.297014424775849,"seriess":"Inverse Mills Ratio"},{"x":0.7386934673366832,"y":1.320091339022308,"seriess":"Inverse Mills Ratio"},{"x":0.7688442211055273,"y":1.343294888316424,"seriess":"Inverse Mills Ratio"},{"x":0.7989949748743719,"y":1.366622570765464,"seriess":"Inverse Mills Ratio"},{"x":0.829145728643216,"y":1.390071924892978,"seriess":"Inverse Mills Ratio"},{"x":0.8592964824120601,"y":1.413640529825835,"seriess":"Inverse Mills Ratio"},{"x":0.8894472361809043,"y":1.437326005412733,"seriess":"Inverse Mills Ratio"},{"x":0.9195979899497484,"y":1.461126012278639,"seriess":"Inverse Mills Ratio"},{"x":0.949748743718593,"y":1.48503825181942,"seriess":"Inverse Mills Ratio"},{"x":0.9798994974874371,"y":1.509060466140788,"seriess":"Inverse Mills Ratio"},{"x":1.010050251256281,"y":1.533190437945508,"seriess":"Inverse Mills Ratio"},{"x":1.040201005025126,"y":1.557425990372628,"seriess":"Inverse Mills Ratio"},{"x":1.070351758793969,"y":1.581764986792365,"seriess":"Inverse Mills Ratio"},{"x":1.100502512562814,"y":1.606205330560083,"seriess":"Inverse Mills Ratio"},{"x":1.130653266331658,"y":1.630744964732648,"seriess":"Inverse Mills Ratio"},{"x":1.160804020100502,"y":1.655381871750315,"seriess":"Inverse Mills Ratio"},{"x":1.190954773869347,"y":1.68011407308706,"seriess":"Inverse Mills Ratio"},{"x":1.221105527638191,"y":1.704939628872256,"seriess":"Inverse Mills Ratio"},{"x":1.251256281407035,"y":1.729856637486301,"seriess":"Inverse Mills Ratio"},{"x":1.281407035175879,"y":1.754863235132751,"seriess":"Inverse Mills Ratio"},{"x":1.311557788944723,"y":1.779957595389356,"seriess":"Inverse Mills Ratio"},{"x":1.341708542713568,"y":1.80513792874023,"seriess":"Inverse Mills Ratio"},{"x":1.371859296482412,"y":1.83040248209129,"seriess":"Inverse Mills Ratio"},{"x":1.402010050251256,"y":1.855749538270967,"seriess":"Inverse Mills Ratio"},{"x":1.4321608040201,"y":1.881177415518051,"seriess":"Inverse Mills Ratio"},{"x":1.462311557788945,"y":1.906684466958423,"seriess":"Inverse Mills Ratio"},{"x":1.492462311557789,"y":1.932269080072358,"seriess":"Inverse Mills Ratio"},{"x":1.522613065326633,"y":1.957929676153891,"seriess":"Inverse Mills Ratio"},{"x":1.552763819095477,"y":1.983664709763719,"seriess":"Inverse Mills Ratio"},{"x":1.582914572864321,"y":2.009472668176965,"seriess":"Inverse Mills Ratio"},{"x":1.613065326633166,"y":2.035352070827064,"seriess":"Inverse Mills Ratio"},{"x":1.64321608040201,"y":2.061301468746906,"seriess":"Inverse Mills Ratio"},{"x":1.673366834170854,"y":2.08731944400835,"seriess":"Inverse Mills Ratio"},{"x":1.703517587939698,"y":2.113404609161062,"seriess":"Inverse Mills Ratio"},{"x":1.733668341708542,"y":2.139555606671629,"seriess":"Inverse Mills Ratio"},{"x":1.763819095477387,"y":2.165771108363792,"seriess":"Inverse Mills Ratio"},{"x":1.793969849246231,"y":2.192049814860549,"seriess":"Inverse Mills Ratio"},{"x":1.824120603015075,"y":2.218390455028894,"seriess":"Inverse Mills Ratio"},{"x":1.85427135678392,"y":2.244791785427807,"seriess":"Inverse Mills Ratio"},{"x":1.884422110552763,"y":2.271252589760107,"seriess":"Inverse Mills Ratio"},{"x":1.914572864321608,"y":2.297771678328715,"seriess":"Inverse Mills Ratio"},{"x":1.944723618090452,"y":2.324347887497828,"seriess":"Inverse Mills Ratio"},{"x":1.974874371859296,"y":2.350980079159424,"seriess":"Inverse Mills Ratio"},{"x":2.005025125628141,"y":2.377667140205535,"seriess":"Inverse Mills Ratio"},{"x":2.035175879396984,"y":2.40440798200663,"seriess":"Inverse Mills Ratio"},{"x":2.065326633165829,"y":2.431201539896418,"seriess":"Inverse Mills Ratio"},{"x":2.095477386934673,"y":2.45804677266338,"seriess":"Inverse Mills Ratio"},{"x":2.125628140703517,"y":2.484942662049273,"seriess":"Inverse Mills Ratio"},{"x":2.155778894472362,"y":2.511888212254804,"seriess":"Inverse Mills Ratio"},{"x":2.185929648241205,"y":2.53888244945269,"seriess":"Inverse Mills Ratio"},{"x":2.21608040201005,"y":2.56592442130826,"seriess":"Inverse Mills Ratio"},{"x":2.246231155778895,"y":2.593013196507716,"seriess":"Inverse Mills Ratio"},{"x":2.276381909547738,"y":2.620147864294176,"seriess":"Inverse Mills Ratio"},{"x":2.306532663316583,"y":2.647327534011609,"seriess":"Inverse Mills Ratio"},{"x":2.336683417085426,"y":2.674551334656683,"seriess":"Inverse Mills Ratio"},{"x":2.366834170854271,"y":2.701818414438631,"seriess":"Inverse Mills Ratio"},{"x":2.396984924623116,"y":2.729127940347114,"seriess":"Inverse Mills Ratio"},{"x":2.427135678391959,"y":2.756479097728149,"seriess":"Inverse Mills Ratio"},{"x":2.457286432160804,"y":2.783871089868057,"seriess":"Inverse Mills Ratio"},{"x":2.487437185929648,"y":2.811303137585457,"seriess":"Inverse Mills Ratio"},{"x":2.517587939698492,"y":2.838774478831247,"seriess":"Inverse Mills Ratio"},{"x":2.547738693467337,"y":2.86628436829657,"seriess":"Inverse Mills Ratio"},{"x":2.57788944723618,"y":2.893832077028696,"seriess":"Inverse Mills Ratio"},{"x":2.608040201005025,"y":2.921416892054772,"seriess":"Inverse Mills Ratio"},{"x":2.638190954773869,"y":2.949038116013364,"seriess":"Inverse Mills Ratio"},{"x":2.668341708542713,"y":2.976695066793762,"seriess":"Inverse Mills Ratio"},{"x":2.698492462311558,"y":3.00438707718289,"seriess":"Inverse Mills Ratio"},{"x":2.728643216080402,"y":3.032113494519828,"seriess":"Inverse Mills Ratio"},{"x":2.758793969849246,"y":3.059873680357794,"seriess":"Inverse Mills Ratio"},{"x":2.788944723618091,"y":3.087667010133498,"seriess":"Inverse Mills Ratio"},{"x":2.819095477386934,"y":3.115492872843793,"seriess":"Inverse Mills Ratio"},{"x":2.849246231155779,"y":3.143350670729507,"seriess":"Inverse Mills Ratio"},{"x":2.879396984924623,"y":3.171239818966334,"seriess":"Inverse Mills Ratio"},{"x":2.909547738693467,"y":3.199159745362709,"seriess":"Inverse Mills Ratio"},{"x":2.939698492462312,"y":3.2271098900645,"seriess":"Inverse Mills Ratio"},{"x":2.969849246231155,"y":3.255089705266493,"seriess":"Inverse Mills Ratio"},{"x":3,"y":3.283098654930437,"seriess":"Inverse Mills Ratio"}],"type":"line"},{"name":"Normal CDF","data":[{"x":-3,"y":0.001349898031630095,"seriess":"Normal CDF"},{"x":-2.969849246231156,"y":0.001489729617320632,"seriess":"Normal CDF"},{"x":-2.939698492462312,"y":0.001642658829705804,"seriess":"Normal CDF"},{"x":-2.909547738693467,"y":0.001809760521856898,"seriess":"Normal CDF"},{"x":-2.879396984924623,"y":0.001992182210017193,"seriess":"Normal CDF"},{"x":-2.849246231155779,"y":0.002191147500271126,"seriess":"Normal CDF"},{"x":-2.819095477386935,"y":0.002407959540314959,"seriess":"Normal CDF"},{"x":-2.788944723618091,"y":0.002644004482237773,"seriess":"Normal CDF"},{"x":-2.758793969849246,"y":0.002900754940881508,"seriess":"Normal CDF"},{"x":-2.728643216080402,"y":0.003179773430990468,"seriess":"Normal CDF"},{"x":-2.698492462311558,"y":0.003482715764992739,"seriess":"Normal CDF"},{"x":-2.668341708542714,"y":0.003811334391887593,"seriess":"Normal CDF"},{"x":-2.63819095477387,"y":0.004167481656355016,"seriess":"Normal CDF"},{"x":-2.608040201005025,"y":0.004553112955866681,"seriess":"Normal CDF"},{"x":-2.577889447236181,"y":0.004970289772274194,"seriess":"Normal CDF"},{"x":-2.547738693467337,"y":0.005421182553093034,"seriess":"Normal CDF"},{"x":-2.517587939698493,"y":0.00590807341650216,"seriess":"Normal CDF"},{"x":-2.487437185929648,"y":0.00643335865295457,"seriess":"Normal CDF"},{"x":-2.457286432160804,"y":0.006999550995256674,"seriess":"Normal CDF"},{"x":-2.42713567839196,"y":0.007609281628040034,"seriess":"Normal CDF"},{"x":-2.396984924623116,"y":0.008265301906732343,"seriess":"Normal CDF"},{"x":-2.366834170854272,"y":0.008970484755451254,"seriess":"Normal CDF"},{"x":-2.336683417085427,"y":0.00972782571271056,"seriess":"Normal CDF"},{"x":-2.306532663316583,"y":0.01054044359345827,"seriess":"Normal CDF"},{"x":-2.276381909547739,"y":0.0114115807357757,"seriess":"Normal CDF"},{"x":-2.246231155778895,"y":0.0123446028005715,"seriess":"Normal CDF"},{"x":-2.21608040201005,"y":0.01334299809281701,"seriess":"Normal CDF"},{"x":-2.185929648241206,"y":0.01441037637330561,"seriess":"Normal CDF"},{"x":-2.155778894472362,"y":0.01555046713058952,"seriess":"Normal CDF"},{"x":-2.125628140703518,"y":0.01676711728366506,"seriess":"Normal CDF"},{"x":-2.095477386934673,"y":0.01806428828715316,"seriess":"Normal CDF"},{"x":-2.065326633165829,"y":0.01944605261216261,"seriess":"Normal CDF"},{"x":-2.035175879396985,"y":0.02091658957773902,"seriess":"Normal CDF"},{"x":-2.005025125628141,"y":0.02248018050979618,"seriess":"Normal CDF"},{"x":-1.974874371859296,"y":0.02414120320670295,"seriess":"Normal CDF"},{"x":-1.944723618090452,"y":0.02590412569325999,"seriess":"Normal CDF"},{"x":-1.914572864321608,"y":0.02777349924764239,"seriess":"Normal CDF"},{"x":-1.884422110552764,"y":0.02975395068900897,"seriess":"Normal CDF"},{"x":-1.85427135678392,"y":0.03185017391687409,"seriess":"Normal CDF"},{"x":-1.824120603015075,"y":0.03406692069699968,"seriess":"Normal CDF"},{"x":-1.793969849246231,"y":0.03640899069247994,"seriess":"Normal CDF"},{"x":-1.763819095477387,"y":0.03888122074284534,"seriess":"Normal CDF"},{"x":-1.733668341708543,"y":0.04148847339838844,"seriess":"Normal CDF"},{"x":-1.703517587939699,"y":0.04423562472149362,"seriess":"Normal CDF"},{"x":-1.673366834170854,"y":0.04712755137150993,"seriess":"Normal CDF"},{"x":-1.64321608040201,"y":0.05016911699461916,"seriess":"Normal CDF"},{"x":-1.613065326633166,"y":0.05336515794518935,"seriess":"Normal CDF"},{"x":-1.582914572864322,"y":0.05672046837023619,"seriess":"Normal CDF"},{"x":-1.552763819095477,"y":0.06023978469381028,"seriess":"Normal CDF"},{"x":-1.522613065326633,"y":0.06392776954334874,"seriess":"Normal CDF"},{"x":-1.492462311557789,"y":0.06778899516523917,"seriess":"Normal CDF"},{"x":-1.462311557788945,"y":0.07182792638200312,"seriess":"Normal CDF"},{"x":-1.432160804020101,"y":0.07604890314857334,"seriess":"Normal CDF"},{"x":-1.402010050251256,"y":0.08045612277007351,"seriess":"Normal CDF"},{"x":-1.371859296482412,"y":0.08505362184826568,"seriess":"Normal CDF"},{"x":-1.341708542713568,"y":0.08984525802836892,"seriess":"Normal CDF"},{"x":-1.311557788944724,"y":0.09483469162222538,"seriess":"Normal CDF"},{"x":-1.28140703517588,"y":0.1000253671877581,"seriess":"Normal CDF"},{"x":-1.251256281407035,"y":0.1054204951482815,"seriess":"Normal CDF"},{"x":-1.221105527638191,"y":0.1110230335384517,"seriess":"Normal CDF"},{"x":-1.190954773869347,"y":0.116835669966439,"seriess":"Normal CDF"},{"x":-1.160804020100503,"y":0.1228608038842309,"seriess":"Normal CDF"},{"x":-1.130653266331658,"y":0.1291005292597928,"seriess":"Normal CDF"},{"x":-1.100502512562814,"y":0.1355566177461014,"seriess":"Normal CDF"},{"x":-1.07035175879397,"y":0.1422305024427733,"seriess":"Normal CDF"},{"x":-1.040201005025126,"y":0.149123262346141,"seriess":"Normal CDF"},{"x":-1.010050251256281,"y":0.1562356075831305,"seriess":"Normal CDF"},{"x":-0.9798994974874371,"y":0.1635678655231685,"seriess":"Normal CDF"},{"x":-0.949748743718593,"y":0.1711199678605739,"seriess":"Normal CDF"},{"x":-0.9195979899497488,"y":0.1788914387574623,"seriess":"Normal CDF"},{"x":-0.8894472361809047,"y":0.1868813841341046,"seriess":"Normal CDF"},{"x":-0.8592964824120606,"y":0.1950884821899443,"seriess":"Normal CDF"},{"x":-0.829145728643216,"y":0.2035109752340891,"seriess":"Normal CDF"},{"x":-0.7989949748743719,"y":0.2121466628990725,"seriess":"Normal CDF"},{"x":-0.7688442211055277,"y":0.2209928968060503,"seriess":"Normal CDF"},{"x":-0.7386934673366836,"y":0.2300465767433684,"seriess":"Normal CDF"},{"x":-0.7085427135678395,"y":0.2393041484136591,"seriess":"Normal CDF"},{"x":-0.6783919597989949,"y":0.2487616027973174,"seriess":"Normal CDF"},{"x":-0.6482412060301508,"y":0.2584144771724168,"seriess":"Normal CDF"},{"x":-0.6180904522613067,"y":0.2682578578229065,"seriess":"Normal CDF"},{"x":-0.5879396984924625,"y":0.2782863844583112,"seriess":"Normal CDF"},{"x":-0.5577889447236184,"y":0.2884942563592239,"seriess":"Normal CDF"},{"x":-0.5276381909547738,"y":0.2988752402536594,"seriess":"Normal CDF"},{"x":-0.4974874371859297,"y":0.3094226799199172,"seriess":"Normal CDF"},{"x":-0.4673366834170856,"y":0.3201295075020344,"seriess":"Normal CDF"},{"x":-0.4371859296482414,"y":0.330988256514258,"seriess":"Normal CDF"},{"x":-0.4070351758793973,"y":0.3419910765013174,"seriess":"Normal CDF"},{"x":-0.3768844221105527,"y":0.3531297493116835,"seriess":"Normal CDF"},{"x":-0.3467336683417086,"y":0.3643957069315429,"seriess":"Normal CDF"},{"x":-0.3165829145728645,"y":0.3757800508179642,"seriess":"Normal CDF"},{"x":-0.2864321608040203,"y":0.3872735726607529,"seriess":"Normal CDF"},{"x":-0.2562814070351762,"y":0.3988667764938583,"seriess":"Normal CDF"},{"x":-0.2261306532663316,"y":0.4105499020689747,"seriess":"Normal CDF"},{"x":-0.1959798994974875,"y":0.422312949396228,"seriess":"Normal CDF"},{"x":-0.1658291457286434,"y":0.4341457043496315,"seriess":"Normal CDF"},{"x":-0.1356783919597992,"y":0.446037765228374,"seriess":"Normal CDF"},{"x":-0.1055276381909547,"y":0.4579785701590363,"seriess":"Normal CDF"},{"x":-0.07537688442211055,"y":0.4699574252185522,"seriess":"Normal CDF"},{"x":-0.04522613065326642,"y":0.4819635331531952,"seriess":"Normal CDF"},{"x":-0.01507537688442229,"y":0.4939860225651034,"seriess":"Normal CDF"},{"x":0.01507537688442184,"y":0.5060139774348964,"seriess":"Normal CDF"},{"x":0.04522613065326642,"y":0.5180364668468048,"seriess":"Normal CDF"},{"x":0.07537688442211055,"y":0.5300425747814479,"seriess":"Normal CDF"},{"x":0.1055276381909547,"y":0.5420214298409637,"seriess":"Normal CDF"},{"x":0.1356783919597988,"y":0.5539622347716259,"seriess":"Normal CDF"},{"x":0.1658291457286429,"y":0.5658542956503684,"seriess":"Normal CDF"},{"x":0.1959798994974875,"y":0.5776870506037719,"seriess":"Normal CDF"},{"x":0.2261306532663316,"y":0.5894500979310253,"seriess":"Normal CDF"},{"x":0.2562814070351758,"y":0.6011332235061416,"seriess":"Normal CDF"},{"x":0.2864321608040199,"y":0.612726427339247,"seriess":"Normal CDF"},{"x":0.316582914572864,"y":0.6242199491820356,"seriess":"Normal CDF"},{"x":0.3467336683417086,"y":0.6356042930684571,"seriess":"Normal CDF"},{"x":0.3768844221105527,"y":0.6468702506883165,"seriess":"Normal CDF"},{"x":0.4070351758793969,"y":0.6580089234986825,"seriess":"Normal CDF"},{"x":0.437185929648241,"y":0.6690117434857419,"seriess":"Normal CDF"},{"x":0.4673366834170851,"y":0.6798704924979654,"seriess":"Normal CDF"},{"x":0.4974874371859297,"y":0.6905773200800828,"seriess":"Normal CDF"},{"x":0.5276381909547738,"y":0.7011247597463406,"seriess":"Normal CDF"},{"x":0.557788944723618,"y":0.7115057436407759,"seriess":"Normal CDF"},{"x":0.5879396984924621,"y":0.7217136155416887,"seriess":"Normal CDF"},{"x":0.6180904522613062,"y":0.7317421421770934,"seriess":"Normal CDF"},{"x":0.6482412060301508,"y":0.7415855228275832,"seriess":"Normal CDF"},{"x":0.6783919597989949,"y":0.7512383972026826,"seriess":"Normal CDF"},{"x":0.708542713567839,"y":0.7606958515863407,"seriess":"Normal CDF"},{"x":0.7386934673366832,"y":0.7699534232566314,"seriess":"Normal CDF"},{"x":0.7688442211055273,"y":0.7790071031939496,"seriess":"Normal CDF"},{"x":0.7989949748743719,"y":0.7878533371009275,"seriess":"Normal CDF"},{"x":0.829145728643216,"y":0.7964890247659109,"seriess":"Normal CDF"},{"x":0.8592964824120601,"y":0.8049115178100557,"seriess":"Normal CDF"},{"x":0.8894472361809043,"y":0.8131186158658953,"seriess":"Normal CDF"},{"x":0.9195979899497484,"y":0.8211085612425375,"seriess":"Normal CDF"},{"x":0.949748743718593,"y":0.8288800321394261,"seriess":"Normal CDF"},{"x":0.9798994974874371,"y":0.8364321344768315,"seriess":"Normal CDF"},{"x":1.010050251256281,"y":0.8437643924168694,"seriess":"Normal CDF"},{"x":1.040201005025126,"y":0.8508767376538591,"seriess":"Normal CDF"},{"x":1.070351758793969,"y":0.8577694975572266,"seriess":"Normal CDF"},{"x":1.100502512562814,"y":0.8644433822538986,"seriess":"Normal CDF"},{"x":1.130653266331658,"y":0.870899470740207,"seriess":"Normal CDF"},{"x":1.160804020100502,"y":0.8771391961157691,"seriess":"Normal CDF"},{"x":1.190954773869347,"y":0.883164330033561,"seriess":"Normal CDF"},{"x":1.221105527638191,"y":0.8889769664615482,"seriess":"Normal CDF"},{"x":1.251256281407035,"y":0.8945795048517184,"seriess":"Normal CDF"},{"x":1.281407035175879,"y":0.8999746328122418,"seriess":"Normal CDF"},{"x":1.311557788944723,"y":0.9051653083777745,"seriess":"Normal CDF"},{"x":1.341708542713568,"y":0.910154741971631,"seriess":"Normal CDF"},{"x":1.371859296482412,"y":0.9149463781517342,"seriess":"Normal CDF"},{"x":1.402010050251256,"y":0.9195438772299265,"seriess":"Normal CDF"},{"x":1.4321608040201,"y":0.9239510968514266,"seriess":"Normal CDF"},{"x":1.462311557788945,"y":0.9281720736179968,"seriess":"Normal CDF"},{"x":1.492462311557789,"y":0.9322110048347608,"seriess":"Normal CDF"},{"x":1.522613065326633,"y":0.9360722304566512,"seriess":"Normal CDF"},{"x":1.552763819095477,"y":0.9397602153061897,"seriess":"Normal CDF"},{"x":1.582914572864321,"y":0.9432795316297637,"seriess":"Normal CDF"},{"x":1.613065326633166,"y":0.9466348420548106,"seriess":"Normal CDF"},{"x":1.64321608040201,"y":0.9498308830053809,"seriess":"Normal CDF"},{"x":1.673366834170854,"y":0.9528724486284901,"seriess":"Normal CDF"},{"x":1.703517587939698,"y":0.9557643752785063,"seriess":"Normal CDF"},{"x":1.733668341708542,"y":0.9585115266016115,"seriess":"Normal CDF"},{"x":1.763819095477387,"y":0.9611187792571546,"seriess":"Normal CDF"},{"x":1.793969849246231,"y":0.9635910093075201,"seriess":"Normal CDF"},{"x":1.824120603015075,"y":0.9659330793030003,"seriess":"Normal CDF"},{"x":1.85427135678392,"y":0.9681498260831259,"seriess":"Normal CDF"},{"x":1.884422110552763,"y":0.970246049310991,"seriess":"Normal CDF"},{"x":1.914572864321608,"y":0.9722265007523576,"seriess":"Normal CDF"},{"x":1.944723618090452,"y":0.9740958743067401,"seriess":"Normal CDF"},{"x":1.974874371859296,"y":0.975858796793297,"seriess":"Normal CDF"},{"x":2.005025125628141,"y":0.9775198194902038,"seriess":"Normal CDF"},{"x":2.035175879396984,"y":0.9790834104222609,"seriess":"Normal CDF"},{"x":2.065326633165829,"y":0.9805539473878374,"seriess":"Normal CDF"},{"x":2.095477386934673,"y":0.9819357117128469,"seriess":"Normal CDF"},{"x":2.125628140703517,"y":0.9832328827163349,"seriess":"Normal CDF"},{"x":2.155778894472362,"y":0.9844495328694105,"seriess":"Normal CDF"},{"x":2.185929648241205,"y":0.9855896236266943,"seriess":"Normal CDF"},{"x":2.21608040201005,"y":0.986657001907183,"seriess":"Normal CDF"},{"x":2.246231155778895,"y":0.9876553971994285,"seriess":"Normal CDF"},{"x":2.276381909547738,"y":0.9885884192642242,"seriess":"Normal CDF"},{"x":2.306532663316583,"y":0.9894595564065417,"seriess":"Normal CDF"},{"x":2.336683417085426,"y":0.9902721742872894,"seriess":"Normal CDF"},{"x":2.366834170854271,"y":0.9910295152445487,"seriess":"Normal CDF"},{"x":2.396984924623116,"y":0.9917346980932676,"seriess":"Normal CDF"},{"x":2.427135678391959,"y":0.9923907183719599,"seriess":"Normal CDF"},{"x":2.457286432160804,"y":0.9930004490047434,"seriess":"Normal CDF"},{"x":2.487437185929648,"y":0.9935666413470454,"seriess":"Normal CDF"},{"x":2.517587939698492,"y":0.9940919265834979,"seriess":"Normal CDF"},{"x":2.547738693467337,"y":0.994578817446907,"seriess":"Normal CDF"},{"x":2.57788944723618,"y":0.9950297102277258,"seriess":"Normal CDF"},{"x":2.608040201005025,"y":0.9954468870441333,"seriess":"Normal CDF"},{"x":2.638190954773869,"y":0.9958325183436449,"seriess":"Normal CDF"},{"x":2.668341708542713,"y":0.9961886656081124,"seriess":"Normal CDF"},{"x":2.698492462311558,"y":0.9965172842350073,"seriess":"Normal CDF"},{"x":2.728643216080402,"y":0.9968202265690095,"seriess":"Normal CDF"},{"x":2.758793969849246,"y":0.9970992450591185,"seriess":"Normal CDF"},{"x":2.788944723618091,"y":0.9973559955177622,"seriess":"Normal CDF"},{"x":2.819095477386934,"y":0.9975920404596851,"seriess":"Normal CDF"},{"x":2.849246231155779,"y":0.9978088524997288,"seriess":"Normal CDF"},{"x":2.879396984924623,"y":0.9980078177899828,"seriess":"Normal CDF"},{"x":2.909547738693467,"y":0.9981902394781431,"seriess":"Normal CDF"},{"x":2.939698492462312,"y":0.9983573411702942,"seriess":"Normal CDF"},{"x":2.969849246231155,"y":0.9985102703826794,"seriess":"Normal CDF"},{"x":3,"y":0.9986501019683699,"seriess":"Normal CDF"}],"type":"line"},{"name":"Normal PDF","data":[{"x":-3,"y":0.004431848411938008,"seriess":"Normal PDF"},{"x":-2.969849246231156,"y":0.004849203540970978,"seriess":"Normal PDF"},{"x":-2.939698492462312,"y":0.005301040555345377,"seriess":"Normal PDF"},{"x":-2.909547738693467,"y":0.005789713010271196,"seriess":"Normal PDF"},{"x":-2.879396984924623,"y":0.006317687551042881,"seriess":"Normal PDF"},{"x":-2.849246231155779,"y":0.006887544964644527,"seriess":"Normal PDF"},{"x":-2.819095477386935,"y":0.007501980785947473,"seriess":"Normal PDF"},{"x":-2.788944723618091,"y":0.008163805414450673,"seriess":"Normal PDF"},{"x":-2.758793969849246,"y":0.008875943696771155,"seriess":"Normal PDF"},{"x":-2.728643216080402,"y":0.009641433929621815,"seriess":"Normal PDF"},{"x":-2.698492462311558,"y":0.01046342623784531,"seriess":"Normal PDF"},{"x":-2.668341708542714,"y":0.0113451802822332,"seriess":"Normal PDF"},{"x":-2.63819095477387,"y":0.01229006225237746,"seriess":"Normal PDF"},{"x":-2.608040201005025,"y":0.01330154110070235,"seriess":"Normal PDF"},{"x":-2.577889447236181,"y":0.01438318397513472,"seriess":"Normal PDF"},{"x":-2.547738693467337,"y":0.01553865080961265,"seriess":"Normal PDF"},{"x":-2.517587939698493,"y":0.01677168803382767,"seriess":"Normal PDF"},{"x":-2.487437185929648,"y":0.01808612136626373,"seriess":"Normal PDF"},{"x":-2.457286432160804,"y":0.01948584765775224,"seriess":"Normal PDF"},{"x":-2.42713567839196,"y":0.02097482575641918,"seriess":"Normal PDF"},{"x":-2.396984924623116,"y":0.02255706636906752,"seriess":"Normal PDF"},{"x":-2.366834170854272,"y":0.02423662089871921,"seriess":"Normal PDF"},{"x":-2.336683417085427,"y":0.02601756924323764,"seriess":"Normal PDF"},{"x":-2.306532663316583,"y":0.02790400654565833,"seriess":"Normal PDF"},{"x":-2.276381909547739,"y":0.02990002889306326,"seriess":"Normal PDF"},{"x":-2.246231155778895,"y":0.03200971796752802,"seriess":"Normal PDF"},{"x":-2.21608040201005,"y":0.03423712465982873,"seriess":"Normal PDF"},{"x":-2.185929648241206,"y":0.03658625166419335,"seriess":"Normal PDF"},{"x":-2.155778894472362,"y":0.03906103508038361,"seriess":"Normal PDF"},{"x":-2.125628140703518,"y":0.04166532505776303,"seriess":"Normal PDF"},{"x":-2.095477386934673,"y":0.04440286552469772,"seriess":"Normal PDF"},{"x":-2.065326633165829,"y":0.04727727305559649,"seriess":"Normal PDF"},{"x":-2.035175879396985,"y":0.0502920149370724,"seriess":"Normal PDF"},{"x":-2.005025125628141,"y":0.05345038650403128,"seriess":"Normal PDF"},{"x":-1.974874371859296,"y":0.05675548782589823,"seriess":"Normal PDF"},{"x":-1.944723618090452,"y":0.06021019983260706,"seriess":"Normal PDF"},{"x":-1.914572864321608,"y":0.06381715997931658,"seriess":"Normal PDF"},{"x":-1.884422110552764,"y":0.06757873755800614,"seriess":"Normal PDF"},{"x":-1.85427135678392,"y":0.07149700877304596,"seriess":"Normal PDF"},{"x":-1.824120603015075,"y":0.07557373170645039,"seriess":"Normal PDF"},{"x":-1.793969849246231,"y":0.07981032130671012,"seriess":"Normal PDF"},{"x":-1.763819095477387,"y":0.08420782454276941,"seriess":"Normal PDF"},{"x":-1.733668341708543,"y":0.08876689587176878,"seriess":"Normal PDF"},{"x":-1.703517587939699,"y":0.09348777317552363,"seriess":"Normal PDF"},{"x":-1.673366834170854,"y":0.09837025432625504,"seriess":"Normal PDF"},{"x":-1.64321608040201,"y":0.1034136745467438,"seriess":"Normal PDF"},{"x":-1.613065326633166,"y":0.1086168847337545,"seriess":"Normal PDF"},{"x":-1.582914572864322,"y":0.1139782309161856,"seriess":"Normal PDF"},{"x":-1.552763819095477,"y":0.1194955350208761,"seriess":"Normal PDF"},{"x":-1.522613065326633,"y":0.1251660771192494,"seriess":"Normal PDF"},{"x":-1.492462311557789,"y":0.1309865793269663,"seriess":"Normal PDF"},{"x":-1.462311557788945,"y":0.1369531915263985,"seriess":"Normal PDF"},{"x":-1.432160804020101,"y":0.1430614790780157,"seriess":"Normal PDF"},{"x":-1.402010050251256,"y":0.1493064126816362,"seriess":"Normal PDF"},{"x":-1.371859296482412,"y":0.1556823605419195,"seriess":"Normal PDF"},{"x":-1.341708542713568,"y":0.1621830829844614,"seriess":"Normal PDF"},{"x":-1.311557788944724,"y":0.1688017296593876,"seriess":"Normal PDF"},{"x":-1.28140703517588,"y":0.1755308394584506,"seriess":"Normal PDF"},{"x":-1.251256281407035,"y":0.1823623432593472,"seriess":"Normal PDF"},{"x":-1.221105527638191,"y":0.1892875695973199,"seriess":"Normal PDF"},{"x":-1.190954773869347,"y":0.1962972533491693,"seriess":"Normal PDF"},{"x":-1.160804020100503,"y":0.2033815474986264,"seriess":"Normal PDF"},{"x":-1.130653266331658,"y":0.2105300380347272,"seriess":"Normal PDF"},{"x":-1.100502512562814,"y":0.2177317620164836,"seriess":"Normal PDF"},{"x":-1.07035175879397,"y":0.2249752288178648,"seriess":"Normal PDF"},{"x":-1.040201005025126,"y":0.2322484445470358,"seriess":"Normal PDF"},{"x":-1.010050251256281,"y":0.2395389396130624,"seriess":"Normal PDF"},{"x":-0.9798994974874371,"y":0.2468337993920464,"seriess":"Normal PDF"},{"x":-0.949748743718593,"y":0.254119697923062,"seriess":"Normal PDF"},{"x":-0.9195979899497488,"y":0.2613829345424794,"seriess":"Normal PDF"},{"x":-0.8894472361809047,"y":0.2686094733434752,"seriess":"Normal PDF"},{"x":-0.8592964824120606,"y":0.2757849853259109,"seriess":"Normal PDF"},{"x":-0.829145728643216,"y":0.2828948930804974,"seriess":"Normal PDF"},{"x":-0.7989949748743719,"y":0.2899244178304448,"seriess":"Normal PDF"},{"x":-0.7688442211055277,"y":0.2968586286338065,"seriess":"Normal PDF"},{"x":-0.7386934673366836,"y":0.3036824935306515,"seriess":"Normal PDF"},{"x":-0.7085427135678395,"y":0.3103809324012164,"seriess":"Normal PDF"},{"x":-0.6783919597989949,"y":0.3169388712844884,"seriess":"Normal PDF"},{"x":-0.6482412060301508,"y":0.3233412978913993,"seriess":"Normal PDF"},{"x":-0.6180904522613067,"y":0.3295733180331556,"seriess":"Normal PDF"},{"x":-0.5879396984924625,"y":0.335620212673314,"seriess":"Normal PDF"},{"x":-0.5577889447236184,"y":0.3414674953021891,"seriess":"Normal PDF"},{"x":-0.5276381909547738,"y":0.3471009693241673,"seriess":"Normal PDF"},{"x":-0.4974874371859297,"y":0.3525067851425972,"seriess":"Normal PDF"},{"x":-0.4673366834170856,"y":0.3576714966232334,"seriess":"Normal PDF"},{"x":-0.4371859296482414,"y":0.3625821166157834,"seriess":"Normal PDF"},{"x":-0.4070351758793973,"y":0.3672261712140061,"seriess":"Normal PDF"},{"x":-0.3768844221105527,"y":0.3715917524380663,"seriess":"Normal PDF"},{"x":-0.3467336683417086,"y":0.3756675690284562,"seriess":"Normal PDF"},{"x":-0.3165829145728645,"y":0.3794429950487647,"seriess":"Normal PDF"},{"x":-0.2864321608040203,"y":0.3829081160048474,"seriess":"Normal PDF"},{"x":-0.2562814070351762,"y":0.3860537722004873,"seriess":"Normal PDF"},{"x":-0.2261306532663316,"y":0.3888715990643574,"seriess":"Normal PDF"},{"x":-0.1959798994974875,"y":0.3913540641998914,"seriess":"Normal PDF"},{"x":-0.1658291457286434,"y":0.3934945009284412,"seriess":"Normal PDF"},{"x":-0.1356783919597992,"y":0.3952871381166922,"seriess":"Normal PDF"},{"x":-0.1055276381909547,"y":0.3967271261015784,"seriess":"Normal PDF"},{"x":-0.07537688442211055,"y":0.3978105585497111,"seriess":"Normal PDF"},{"x":-0.04522613065326642,"y":0.3985344901134251,"seriess":"Normal PDF"},{"x":-0.01507537688442229,"y":0.3988969497717527,"seriess":"Normal PDF"},{"x":0.01507537688442184,"y":0.3988969497717527,"seriess":"Normal PDF"},{"x":0.04522613065326642,"y":0.3985344901134251,"seriess":"Normal PDF"},{"x":0.07537688442211055,"y":0.3978105585497111,"seriess":"Normal PDF"},{"x":0.1055276381909547,"y":0.3967271261015784,"seriess":"Normal PDF"},{"x":0.1356783919597988,"y":0.3952871381166922,"seriess":"Normal PDF"},{"x":0.1658291457286429,"y":0.3934945009284413,"seriess":"Normal PDF"},{"x":0.1959798994974875,"y":0.3913540641998914,"seriess":"Normal PDF"},{"x":0.2261306532663316,"y":0.3888715990643574,"seriess":"Normal PDF"},{"x":0.2562814070351758,"y":0.3860537722004873,"seriess":"Normal PDF"},{"x":0.2864321608040199,"y":0.3829081160048474,"seriess":"Normal PDF"},{"x":0.316582914572864,"y":0.3794429950487648,"seriess":"Normal PDF"},{"x":0.3467336683417086,"y":0.3756675690284562,"seriess":"Normal PDF"},{"x":0.3768844221105527,"y":0.3715917524380663,"seriess":"Normal PDF"},{"x":0.4070351758793969,"y":0.3672261712140062,"seriess":"Normal PDF"},{"x":0.437185929648241,"y":0.3625821166157834,"seriess":"Normal PDF"},{"x":0.4673366834170851,"y":0.3576714966232336,"seriess":"Normal PDF"},{"x":0.4974874371859297,"y":0.3525067851425972,"seriess":"Normal PDF"},{"x":0.5276381909547738,"y":0.3471009693241673,"seriess":"Normal PDF"},{"x":0.557788944723618,"y":0.3414674953021892,"seriess":"Normal PDF"},{"x":0.5879396984924621,"y":0.3356202126733141,"seriess":"Normal PDF"},{"x":0.6180904522613062,"y":0.3295733180331557,"seriess":"Normal PDF"},{"x":0.6482412060301508,"y":0.3233412978913993,"seriess":"Normal PDF"},{"x":0.6783919597989949,"y":0.3169388712844884,"seriess":"Normal PDF"},{"x":0.708542713567839,"y":0.3103809324012166,"seriess":"Normal PDF"},{"x":0.7386934673366832,"y":0.3036824935306516,"seriess":"Normal PDF"},{"x":0.7688442211055273,"y":0.2968586286338066,"seriess":"Normal PDF"},{"x":0.7989949748743719,"y":0.2899244178304448,"seriess":"Normal PDF"},{"x":0.829145728643216,"y":0.2828948930804974,"seriess":"Normal PDF"},{"x":0.8592964824120601,"y":0.2757849853259109,"seriess":"Normal PDF"},{"x":0.8894472361809043,"y":0.2686094733434752,"seriess":"Normal PDF"},{"x":0.9195979899497484,"y":0.2613829345424795,"seriess":"Normal PDF"},{"x":0.949748743718593,"y":0.254119697923062,"seriess":"Normal PDF"},{"x":0.9798994974874371,"y":0.2468337993920464,"seriess":"Normal PDF"},{"x":1.010050251256281,"y":0.2395389396130624,"seriess":"Normal PDF"},{"x":1.040201005025126,"y":0.2322484445470358,"seriess":"Normal PDF"},{"x":1.070351758793969,"y":0.2249752288178649,"seriess":"Normal PDF"},{"x":1.100502512562814,"y":0.2177317620164836,"seriess":"Normal PDF"},{"x":1.130653266331658,"y":0.2105300380347273,"seriess":"Normal PDF"},{"x":1.160804020100502,"y":0.2033815474986264,"seriess":"Normal PDF"},{"x":1.190954773869347,"y":0.1962972533491693,"seriess":"Normal PDF"},{"x":1.221105527638191,"y":0.18928756959732,"seriess":"Normal PDF"},{"x":1.251256281407035,"y":0.1823623432593472,"seriess":"Normal PDF"},{"x":1.281407035175879,"y":0.1755308394584508,"seriess":"Normal PDF"},{"x":1.311557788944723,"y":0.1688017296593876,"seriess":"Normal PDF"},{"x":1.341708542713568,"y":0.1621830829844614,"seriess":"Normal PDF"},{"x":1.371859296482412,"y":0.1556823605419196,"seriess":"Normal PDF"},{"x":1.402010050251256,"y":0.1493064126816362,"seriess":"Normal PDF"},{"x":1.4321608040201,"y":0.1430614790780159,"seriess":"Normal PDF"},{"x":1.462311557788945,"y":0.1369531915263985,"seriess":"Normal PDF"},{"x":1.492462311557789,"y":0.1309865793269663,"seriess":"Normal PDF"},{"x":1.522613065326633,"y":0.1251660771192495,"seriess":"Normal PDF"},{"x":1.552763819095477,"y":0.1194955350208761,"seriess":"Normal PDF"},{"x":1.582914572864321,"y":0.1139782309161858,"seriess":"Normal PDF"},{"x":1.613065326633166,"y":0.1086168847337545,"seriess":"Normal PDF"},{"x":1.64321608040201,"y":0.1034136745467438,"seriess":"Normal PDF"},{"x":1.673366834170854,"y":0.09837025432625514,"seriess":"Normal PDF"},{"x":1.703517587939698,"y":0.09348777317552365,"seriess":"Normal PDF"},{"x":1.733668341708542,"y":0.08876689587176886,"seriess":"Normal PDF"},{"x":1.763819095477387,"y":0.08420782454276945,"seriess":"Normal PDF"},{"x":1.793969849246231,"y":0.07981032130671012,"seriess":"Normal PDF"},{"x":1.824120603015075,"y":0.07557373170645043,"seriess":"Normal PDF"},{"x":1.85427135678392,"y":0.07149700877304598,"seriess":"Normal PDF"},{"x":1.884422110552763,"y":0.06757873755800622,"seriess":"Normal PDF"},{"x":1.914572864321608,"y":0.06381715997931661,"seriess":"Normal PDF"},{"x":1.944723618090452,"y":0.06021019983260706,"seriess":"Normal PDF"},{"x":1.974874371859296,"y":0.05675548782589829,"seriess":"Normal PDF"},{"x":2.005025125628141,"y":0.05345038650403128,"seriess":"Normal PDF"},{"x":2.035175879396984,"y":0.0502920149370725,"seriess":"Normal PDF"},{"x":2.065326633165829,"y":0.04727727305559654,"seriess":"Normal PDF"},{"x":2.095477386934673,"y":0.04440286552469772,"seriess":"Normal PDF"},{"x":2.125628140703517,"y":0.04166532505776307,"seriess":"Normal PDF"},{"x":2.155778894472362,"y":0.03906103508038361,"seriess":"Normal PDF"},{"x":2.185929648241205,"y":0.03658625166419343,"seriess":"Normal PDF"},{"x":2.21608040201005,"y":0.03423712465982875,"seriess":"Normal PDF"},{"x":2.246231155778895,"y":0.03200971796752802,"seriess":"Normal PDF"},{"x":2.276381909547738,"y":0.02990002889306329,"seriess":"Normal PDF"},{"x":2.306532663316583,"y":0.02790400654565833,"seriess":"Normal PDF"},{"x":2.336683417085426,"y":0.02601756924323769,"seriess":"Normal PDF"},{"x":2.366834170854271,"y":0.02423662089871924,"seriess":"Normal PDF"},{"x":2.396984924623116,"y":0.02255706636906752,"seriess":"Normal PDF"},{"x":2.427135678391959,"y":0.0209748257564192,"seriess":"Normal PDF"},{"x":2.457286432160804,"y":0.01948584765775224,"seriess":"Normal PDF"},{"x":2.487437185929648,"y":0.01808612136626377,"seriess":"Normal PDF"},{"x":2.517587939698492,"y":0.01677168803382769,"seriess":"Normal PDF"},{"x":2.547738693467337,"y":0.01553865080961265,"seriess":"Normal PDF"},{"x":2.57788944723618,"y":0.01438318397513473,"seriess":"Normal PDF"},{"x":2.608040201005025,"y":0.01330154110070235,"seriess":"Normal PDF"},{"x":2.638190954773869,"y":0.01229006225237749,"seriess":"Normal PDF"},{"x":2.668341708542713,"y":0.01134518028223322,"seriess":"Normal PDF"},{"x":2.698492462311558,"y":0.01046342623784531,"seriess":"Normal PDF"},{"x":2.728643216080402,"y":0.009641433929621827,"seriess":"Normal PDF"},{"x":2.758793969849246,"y":0.008875943696771155,"seriess":"Normal PDF"},{"x":2.788944723618091,"y":0.008163805414450673,"seriess":"Normal PDF"},{"x":2.819095477386934,"y":0.00750198078594748,"seriess":"Normal PDF"},{"x":2.849246231155779,"y":0.006887544964644527,"seriess":"Normal PDF"},{"x":2.879396984924623,"y":0.006317687551042886,"seriess":"Normal PDF"},{"x":2.909547738693467,"y":0.005789713010271196,"seriess":"Normal PDF"},{"x":2.939698492462312,"y":0.005301040555345377,"seriess":"Normal PDF"},{"x":2.969849246231155,"y":0.004849203540970987,"seriess":"Normal PDF"},{"x":3,"y":0.004431848411938008,"seriess":"Normal PDF"}],"type":"line"}],"xAxis":{"type":"linear","title":{"text":"(μ-a)/σ"}},"colors":["#005A43","#8C2132","#636466"],"legend":{"align":"left","verticalAlign":"bottom","layout":"horizontal"},"tooltip":{"headerFormat":"","pointFormat":"<b>{series.name}:<\/b> {point.y:.2f}"}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>The numerator is the Normal PDF, the denominator is the Normal CDF, each evaluating the standardized difference between the mean of the distribution, <span class="math inline">\(\mu\)</span>, and the truncation point, <span class="math inline">\(a\)</span> (note: Long refers to this as <span class="math inline">\(\tau\)</span>).</p>
<p>The horizontal axis is the value of <span class="math inline">\(\alpha=\frac{\mu-a}{\sigma}\)</span> - negative values indicate <span class="math inline">\(\mu&lt;a\)</span> and so the portion of the distribution truncated is greater - positive values indicate <span class="math inline">\(\mu&gt;a\)</span> and thus, the portion of the distribution truncated is smaller.</p>
<p>That quantity indicates the number of standard deviations the mean is either above or below the truncation point.</p>
<section id="censoring" class="level3">
<h3 class="anchored" data-anchor-id="censoring">Censoring</h3>
<p>A censored variable is one that only represents part of a distribution because the researcher is unable to examine the remainder of the distribution because it is unobservable. Unobserved values are usually treated as (coded as) the extreme or limiting value. Thus, values of the variable, <span class="math inline">\(y\)</span>, that lie below (above) the threshold, <span class="math inline">\(a\)</span>, are included in the estimation sample, but are all coded as being equal to the limiting or threshold value <span class="math inline">\(a\)</span> because their true values are not known.</p>
<p>Unlike the truncated distribution, a censored distribution does not cut off observations - rather, those observations are all coded as taking on some uniform value, often the limit of the distribution, very often zero. Consider a variable, <span class="math inline">\(y^*\)</span> whose realization, <span class="math inline">\(y\)</span> follows this rule:</p>
<p><span class="math display">\[
\begin{array}{ll}
y=0 &amp; \text{if}~ y^* \leq 0 \nonumber \\
y=y^* &amp; \text{if}~ y^* &gt; 0 \nonumber
\end{array}
\]</span></p>
<ul>
<li>The observed variable is equal to the latent variable for values of the the latent variable greater than the censoring point</li>
<li>The observed variable equals the censoring value (the limit) otherwise.</li>
<li>Two questions - first, does <span class="math inline">\(i\)</span> exceed the censoring point, and second, if so, by how much?</li>
<li>This ought to raise the specter of the zero-altered event count models which do share an important characteristic with models of censored variables.</li>
<li>Censored variables arise from mixtures of discrete and continuous distributions - so do split population models like the zero-altered event count models.</li>
</ul>
<p>How does the censored variable arise from a mixture distribution? Consider its two parts. First, speaking of the normal case, the probability <span class="math inline">\(y=0\)</span> is given by,</p>
<p><span class="math display">\[
Pr(y=0) = Pr(y^* \leq 0) = \Phi\left(\frac{\mu}{\sigma}\right) \nonumber
\]</span></p>
<p>The probability of nonlimit observations is a density for <span class="math inline">\(y^* &gt; 0\)</span>, so <span class="math inline">\(y\)</span> has the density of <span class="math inline">\(y^*\)</span>. The moments of the censored normal arise much like those of the truncated normal, though relying on this mixture.</p>
<p>The case where the censoring point is zero is a good place to look at the mean of the censored normal:</p>
<p><span class="math display">\[
E[y|a=0] = \Phi\left(\frac{\mu}{\sigma}\right) \left(\mu+\sigma \lambda\left(\frac{\mu}{\sigma}\right) \right) \nonumber
\]</span></p>
<p>and <span class="math inline">\(\lambda\)</span> is analogous to the Mills ratio,</p>
<p><span class="math display">\[
\lambda =  \frac{\phi(\cdot)}{\Phi(\cdot)}  \nonumber \\ \nonumber \\
\lambda =  \frac{\phi(\frac{\mu}{\sigma})}{\Phi(\frac{\mu}{\sigma})}  \nonumber \]</span></p>
<p>The mean of the censored normal is composed of two parts. The first term accounts for observations above the limit; the second accounts for or weights the expectation by the limit observations. This should be most clear in the presence of <span class="math inline">\(\lambda\)</span> in the second term. Now, let’s write all this in a more general way (where we don’t constrain the censoring to occur at zero).</p>
<p><span class="math display">\[
Pr(\text{Censored}) = P(y=0) = P(y^* \leq 0) = \Phi\left(\frac{a-\mu}{\sigma}\right) \nonumber \\ \nonumber \\
Pr(\text{Uncensored}) = P(y=y^*) = P(y^* &gt;0) = \Phi\left(\frac{\mu-a}{\sigma}\right) \nonumber
\]</span></p>
<p>So both types of observations that comprise the distribution are accounted for.</p>
<p>Combining those terms,</p>
<p><span class="math display">\[
E[y|a] = \Phi\left(\frac{\mu-a}{\sigma}\right) \left[\mu+\sigma \lambda \left(\frac{\mu-a}{\sigma}\right)\right] + \Phi\left(\frac{a-\mu}{\sigma}\right)a \nonumber
\]</span></p>
<p>If the censoring value equals zero, this reduces to the special case discussed above.</p>
</section>
</section>
<section id="a-model-for-censored-data" class="level2">
<h2 class="anchored" data-anchor-id="a-model-for-censored-data">A Model for Censored Data</h2>
<p>The most common and well-known model for censored data is the Tobit model - this models has seen some controversy in recent years, some of which is discrediting (see Johnston &amp; DiNardo (1997) for a somewhat damning critique). The tobit model does not make too many appearances in the political science literature, perhaps because political scientists have resorted to the selection-style models as ways to deal with censoring/truncation. Nevertheless, let’s walk through the tobit model briefly and give an illustration.</p>
<p>The model treats a censored variable just as described above, but treats the uncensored observations as arising as a function of a systematic component (<span class="math inline">\(x_i \beta\)</span>) and a random component (<span class="math inline">\(\varepsilon_i\)</span>).</p>
<p><span class="math display">\[
\begin{array}{ll}
y=a &amp; \text{if}~ y^* \leq 0 \nonumber \\
y=x_i \beta + \varepsilon_i &amp; \text{if}~ y^* &gt; 0 \nonumber
\end{array}
\]</span></p>
<p>and</p>
<p><span class="math display">\[
Pr(\text{Censored}|x_i) = \Phi-\left(\frac{x_i \beta - a}{\sigma}\right) \nonumber \\ \nonumber \\
Pr(\text{Uncensored}|x_i)  = \Phi\left(\frac{x_i \beta - a}{\sigma}\right) \nonumber
\]</span></p>
<p>Separating these two types of cases because they arise from different distributions,</p>
<p><span class="math display">\[
\ln \mathcal{L} = \sum\limits_{\text{uncensored}} \ln \frac{1}{\sigma} \phi \left( \frac{y_i -x_i \beta}{\sigma} \right)  \nonumber
\]</span></p>
<p>and</p>
<p><span class="math display">\[
\ln \mathcal{L} = \sum\limits_{\text{censored}} \ln  \Phi \left( \frac{a -x_i \beta}{\sigma} \right)  \nonumber
\]</span></p>
<p>which form the log-likelihood function</p>
<p><span class="math display">\[
\ln \mathcal{L} = \sum\limits_{\text{uncensored}}^{y_{i}|y_{i}&gt;0} \ln \frac{1}{\sigma} \phi \left( \frac{y_i -x_i \beta}{\sigma} \right)  + \sum\limits_{\text{censored}}^{y_{i}|y_{i}=0} \ln  \Phi \left( \frac{a -x_i \beta}{\sigma} \right) \nonumber
\]</span></p>
<p>Think about what these two terms contribute to the likelihood. The first is the normal PDF of the difference between <span class="math inline">\(y_i\)</span> and <span class="math inline">\(\hat{y_i}\)</span> - it resembles the normal (linear) likelihood. The second is the normal CDF evaluation of the difference between the censoring limit and <span class="math inline">\(\hat{y_i}\)</span> - it resembles the probit likelihood. Both are normalized by <span class="math inline">\(\sigma\)</span>. In the second (censored) term, we’re evaluating the number of standard deviations between the censoring indicator and <span class="math inline">\(x_i \beta\)</span> on the normal CDF, and using that sum as a way to weight the regression-like term for the uncensored observations.</p>
</section>
<section id="sample-selection" class="level2">
<h2 class="anchored" data-anchor-id="sample-selection">Sample Selection</h2>
<ul>
<li>One of the best-known statistical models for dealing with censoring or truncation is the sample selection model.</li>
<li>The selection model is based on the idea of “incidental truncation.”</li>
<li>Incidental truncation occurs when the observed sample arises according to values of some other unobserved or unmeasured variable.</li>
<li>Based on the values of that variable, some observations are included, others are excluded.</li>
</ul>
</section>
<section id="incidental-truncation" class="level2">
<h2 class="anchored" data-anchor-id="incidental-truncation">Incidental Truncation</h2>
<ul>
<li><p>The classic example in economics has to do with women’s wages in the workplace.</p></li>
<li><p>Women in the sample are those in wage-earning jobs, and thus truncated from the sample (incidentally) are women not in the workplace.</p></li>
<li><p>The truncation is incidental in the sense that the researcher did not choose to exclude these women from the sample.</p></li>
<li><p>Their observed behavior is what removes them from the sample.</p></li>
<li><p>The value of one variable (participation in the workforce) influences the sample of observed wages.</p></li>
<li><p>This is what might make us suspicious that the source of incidental truncation might not be random, which means the sample itself is not random.</p></li>
<li><p>Incidental truncation is more like censoring than pure truncation.</p></li>
<li><p>Like censoring, the incidental truncation is an observability problem, not a function of analyst’s choice.</p></li>
<li><p>Solve the problem in the model by treating those truncated observations as censored.</p></li>
<li><p>The sample includes women with jobs and excludes all other women.</p></li>
<li><p>Instead, measure the sources of the truncation directly - include women without jobs in the sample and treating those women who don’t work as censored.</p></li>
</ul>
<p>Sticking with this example, suppose we estimate a model of women’s wages such that</p>
<p><span class="math display">\[
y^{*}_{2} = x_i \beta + \varepsilon_2 \nonumber
\]</span></p>
<p>The estimates of the model will suffer from the fact that the sample is not random, so <span class="math inline">\(\beta\)</span> will be biased. So, write</p>
<p><span class="math display">\[
y^{*}_{1} = 1 * (z_i \gamma + \varepsilon_1  &gt; 0) \nonumber
\]</span></p>
<p>where <span class="math inline">\(y^{*}_{1}\)</span> indicates whether an individual participates in the workforce - if the vector <span class="math inline">\(z_i \gamma + \varepsilon_0i &gt;0\)</span>, then there is some positive chance of participation, and <span class="math inline">\(z\)</span> are variables that predict workforce participation. It should be clear that <span class="math inline">\(y_2\)</span> is only observed if <span class="math inline">\(y^{*}_{1}&gt;0\)</span> - the observed manifestation of this, of course, is that <span class="math inline">\(y^{*}_{1} = 1\)</span>.</p>
<p><span class="math display">\[
y^{*}_{1} = z_{1}'\gamma_{1} + \varepsilon_{1} \nonumber \\
y^{*}_{2} = X_{1}'\beta_{1} + \varepsilon_{2}
\]</span></p>
<p>We can only observe <span class="math inline">\(y_{2}\)</span> if <span class="math inline">\(y^{*}_{1}&gt;0\)</span>, if a woman works. That is,</p>
<p><span class="math display">\[ \text{Woman Works} = \left\{ \begin{array}{ll}
         1, &amp; \mbox{if $y^{*}_{1}&gt;0$} \\
         0, &amp; \mbox{if $y^{*}_{1} \leq 0$}
         \end{array}
     \right. \]</span></p>
<p><span class="math display">\[ \text{Wages} = \left\{ \begin{array}{ll}
         \text{observed}, &amp; \mbox{if $y_{1}=1$} \\
         \text{unobserved}, &amp; \mbox{if $y_{1}=0$}
         \end{array}
     \right. \]</span></p>
<p>Assume the errors are distributed bivariate normal, then,</p>
<p><span class="math display">\[
\varepsilon_2 = \frac{\rho_{\varepsilon_1,\varepsilon_2}}{\sigma^{2}_2} \varepsilon_1 + \nu_i \nonumber
\]</span></p>
<p>where the numerator is the covariance of the error terms, and the denominator is the variance of the error term for the selection equation. This produces (after some math I’ll skip):</p>
<p><span class="math display">\[
E[\varepsilon_2|\varepsilon_1 &gt; z_i \gamma] = \frac{\sigma_2}{\sigma_1} \frac{\phi(z_i \gamma/\sigma_1)}{\Phi(z_i \gamma/\sigma_1)} \nonumber
\]</span></p>
<p>You can see that if <span class="math inline">\(\sigma_2\)</span>, the variance of the error term in the wage equation, is not zero, then the ratio in the last equation will shape the expectation of the error term in the wage equation - under this condition, the error in the wage equation will not have mean zero and the estimates of the model will be biased. Note as well that the second term above is the Mills ratio again. The estimates of the model are biased by the exclusion of the variables that comprise the Mills ratio. Put another way, the model is biased by the extent to which error variance in the model is correlated with the Mills ratio where, as usual, the ratio is the likelihood of being excluded from the sample, in this case, via incidental truncation.</p>
<p>So to correct the wage model, we need to estimate,</p>
<p><span class="math display">\[
y^{*}_{2} = x_i \beta +  \frac{\phi(z_i \gamma/\sigma_1)}{\Phi(z_i \gamma/\sigma_1)} \rho \nonumber
\]</span></p>
<p>You should be able to see by now a logical stream of thought here:</p>
<ul>
<li><p>incidental truncation biases estimates.</p></li>
<li><p>it has the same effect as excluding a relevant variable.</p></li>
<li><p>if we can measure that variable, say via the Mills ratio, we can correct the problem.</p></li>
<li><p>the Mills ratio is parameterized as a function of a set of variables <span class="math inline">\(z\)</span>; we can theorize on the sources of incidental truncation and model them by:</p></li>
<li><p>estimate a probit model for whether women work or not, <span class="math inline">\(y^{*}_{1}= z_i \gamma\)</span>.</p></li>
<li><p>use these estimates to construct the Mills ratio.</p></li>
<li><p>estimate an OLS model (the wage equation) including the <span class="math inline">\(X\)</span> variables and the Mills ratio. This is Heckman’s two-step model. The standard errors require fixing - this can be estimated simultaneously in ML instead.</p></li>
</ul>
</section>
<section id="examples-of-the-selection-model" class="level2">
<h2 class="anchored" data-anchor-id="examples-of-the-selection-model">Examples of the Selection Model</h2>
<p>Let’s run through some examples of the Heckman set-up, but I’ll do so using a different form of the model known as the censored probit (developed by <span class="citation" data-cites="meng85">Meng and Schmidt (<a href="#ref-meng85" role="doc-biblioref">1985</a>)</span>).</p>
</section>
<section id="censored-probit" class="level2">
<h2 class="anchored" data-anchor-id="censored-probit">Censored Probit</h2>
<ul>
<li>The selection and outcome equations have binary dependent variables and are both probit models.</li>
<li>The model is incidentally truncated in the sense that the outcome of interest is only observed for <span class="math inline">\(y_2|y_1=1\)</span> - the problem is <span class="math inline">\(y_1\)</span> is unobserved.</li>
<li>However, if we measure <span class="math inline">\(y_1\)</span>, estimate an equation predicting it, and condition our estimates of <span class="math inline">\(y_2\)</span> on that selection equation, we’ve reintroduced the truncated observations, so they are now censored.</li>
<li>They are censored in the sense that some of the selection observations do not “fail” and so observing any outcome is impossible - it’s censored. Other observations in the selection equation do “fail” and so we do observe some outcome.</li>
</ul>
<p>There’s a lot of interest in world politics in what makes countries win wars, and especially in the observation that democratic states rarely lose wars. So it has been commonplace to estimate models predicting whether states win or lose based on regime as follows:</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>wars <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">"/Users/dave/Documents/teaching/606J-mle/2022/slides/L13_selection/code/clarkreed.dta"</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co">#new df with only rows where wl is not NA</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>wardyads <span class="ot">&lt;-</span> wars[<span class="sc">!</span><span class="fu">is.na</span>(wars<span class="sc">$</span>wl),]</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># recode wl to 0,1</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>wardyads<span class="sc">$</span>wl <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(wardyads<span class="sc">$</span>wl <span class="sc">==</span> <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="co"># filter duplicate and war 25</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>wardyads <span class="ot">&lt;-</span> wardyads  <span class="sc">%&gt;%</span> <span class="fu">filter</span>(duplicate <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> war <span class="sc">!=</span> <span class="dv">25</span> <span class="sc">|</span> <span class="fu">is.na</span>(war))</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Probit regression</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>warmodel <span class="ot">&lt;-</span> <span class="fu">glm</span>(wl <span class="sc">~</span> democ <span class="sc">+</span> cap, <span class="at">data =</span> wardyads, <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"probit"</span>))</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(<span class="fu">list</span>(<span class="st">"War Winning"</span> <span class="ot">=</span> warmodel))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<!-- preamble start -->

    <script>
      function styleCell_hy4k2vgjl4766bt5dnir(i, j, css_id) {
        var table = document.getElementById("tinytable_hy4k2vgjl4766bt5dnir");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_hy4k2vgjl4766bt5dnir');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_hy4k2vgjl4766bt5dnir(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_hy4k2vgjl4766bt5dnir");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
window.addEventListener('load', function () { styleCell_hy4k2vgjl4766bt5dnir(0, 0, 'tinytable_css_id75sh028cg71rxqie458i') })
window.addEventListener('load', function () { styleCell_hy4k2vgjl4766bt5dnir(0, 1, 'tinytable_css_id168v022percv44dbwasn') })
window.addEventListener('load', function () { styleCell_hy4k2vgjl4766bt5dnir(1, 0, 'tinytable_css_id82eugnjbu45yue5e7da3') })
window.addEventListener('load', function () { styleCell_hy4k2vgjl4766bt5dnir(1, 1, 'tinytable_css_idt2ox2e8xremn9culnsum') })
window.addEventListener('load', function () { styleCell_hy4k2vgjl4766bt5dnir(2, 0, 'tinytable_css_id82eugnjbu45yue5e7da3') })
window.addEventListener('load', function () { styleCell_hy4k2vgjl4766bt5dnir(2, 1, 'tinytable_css_idt2ox2e8xremn9culnsum') })
window.addEventListener('load', function () { styleCell_hy4k2vgjl4766bt5dnir(3, 0, 'tinytable_css_id82eugnjbu45yue5e7da3') })
window.addEventListener('load', function () { styleCell_hy4k2vgjl4766bt5dnir(3, 1, 'tinytable_css_idt2ox2e8xremn9culnsum') })
window.addEventListener('load', function () { styleCell_hy4k2vgjl4766bt5dnir(4, 0, 'tinytable_css_id82eugnjbu45yue5e7da3') })
window.addEventListener('load', function () { styleCell_hy4k2vgjl4766bt5dnir(4, 1, 'tinytable_css_idt2ox2e8xremn9culnsum') })
window.addEventListener('load', function () { styleCell_hy4k2vgjl4766bt5dnir(5, 0, 'tinytable_css_id82eugnjbu45yue5e7da3') })
window.addEventListener('load', function () { styleCell_hy4k2vgjl4766bt5dnir(5, 1, 'tinytable_css_idt2ox2e8xremn9culnsum') })
window.addEventListener('load', function () { styleCell_hy4k2vgjl4766bt5dnir(6, 0, 'tinytable_css_idblwjdckyllw1glnhtylz') })
window.addEventListener('load', function () { styleCell_hy4k2vgjl4766bt5dnir(6, 1, 'tinytable_css_idl59q35vsgcxcn6dm1rhv') })
window.addEventListener('load', function () { styleCell_hy4k2vgjl4766bt5dnir(7, 0, 'tinytable_css_id82eugnjbu45yue5e7da3') })
window.addEventListener('load', function () { styleCell_hy4k2vgjl4766bt5dnir(7, 1, 'tinytable_css_idt2ox2e8xremn9culnsum') })
window.addEventListener('load', function () { styleCell_hy4k2vgjl4766bt5dnir(8, 0, 'tinytable_css_id82eugnjbu45yue5e7da3') })
window.addEventListener('load', function () { styleCell_hy4k2vgjl4766bt5dnir(8, 1, 'tinytable_css_idt2ox2e8xremn9culnsum') })
window.addEventListener('load', function () { styleCell_hy4k2vgjl4766bt5dnir(9, 0, 'tinytable_css_id82eugnjbu45yue5e7da3') })
window.addEventListener('load', function () { styleCell_hy4k2vgjl4766bt5dnir(9, 1, 'tinytable_css_idt2ox2e8xremn9culnsum') })
window.addEventListener('load', function () { styleCell_hy4k2vgjl4766bt5dnir(10, 0, 'tinytable_css_id82eugnjbu45yue5e7da3') })
window.addEventListener('load', function () { styleCell_hy4k2vgjl4766bt5dnir(10, 1, 'tinytable_css_idt2ox2e8xremn9culnsum') })
window.addEventListener('load', function () { styleCell_hy4k2vgjl4766bt5dnir(11, 0, 'tinytable_css_id82eugnjbu45yue5e7da3') })
window.addEventListener('load', function () { styleCell_hy4k2vgjl4766bt5dnir(11, 1, 'tinytable_css_idt2ox2e8xremn9culnsum') })
window.addEventListener('load', function () { styleCell_hy4k2vgjl4766bt5dnir(12, 0, 'tinytable_css_id82eugnjbu45yue5e7da3') })
window.addEventListener('load', function () { styleCell_hy4k2vgjl4766bt5dnir(12, 1, 'tinytable_css_idt2ox2e8xremn9culnsum') })
    </script>

    <style>
    .table td.tinytable_css_id75sh028cg71rxqie458i, .table th.tinytable_css_id75sh028cg71rxqie458i {  text-align: left;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_id168v022percv44dbwasn, .table th.tinytable_css_id168v022percv44dbwasn {  text-align: center;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_id82eugnjbu45yue5e7da3, .table th.tinytable_css_id82eugnjbu45yue5e7da3 {  text-align: left; }
    .table td.tinytable_css_idt2ox2e8xremn9culnsum, .table th.tinytable_css_idt2ox2e8xremn9culnsum {  text-align: center; }
    .table td.tinytable_css_idblwjdckyllw1glnhtylz, .table th.tinytable_css_idblwjdckyllw1glnhtylz {  border-bottom: solid 0.05em black;  text-align: left; }
    .table td.tinytable_css_idl59q35vsgcxcn6dm1rhv, .table th.tinytable_css_idl59q35vsgcxcn6dm1rhv {  border-bottom: solid 0.05em black;  text-align: center; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_hy4k2vgjl4766bt5dnir" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">War Winning</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>-0.429  </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.139) </td>
                </tr>
                <tr>
                  <td>democ      </td>
                  <td>0.080   </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.028) </td>
                </tr>
                <tr>
                  <td>cap        </td>
                  <td>4.999   </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(1.653) </td>
                </tr>
                <tr>
                  <td>Num.Obs.   </td>
                  <td>180     </td>
                </tr>
                <tr>
                  <td>AIC        </td>
                  <td>236.3   </td>
                </tr>
                <tr>
                  <td>BIC        </td>
                  <td>245.8   </td>
                </tr>
                <tr>
                  <td>Log.Lik.   </td>
                  <td>-115.126</td>
                </tr>
                <tr>
                  <td>F          </td>
                  <td>8.468   </td>
                </tr>
                <tr>
                  <td>RMSE       </td>
                  <td>0.48    </td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
<details class="code-fold">
<summary>code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># # Predictions if in estimation sample</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co"># wardyads$xb &lt;- predict(warmodel, type = "link")  # Linear predictor</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co"># wardyads$py1 &lt;- predict(warmodel, type = "response")  # Probability</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co"># # Calculate Inverse Mills Ratio</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co"># wardyads$mills &lt;- dnorm(wardyads$xb) / (1 - pnorm(wardyads$xb))</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="co"># # Plotting using ggplot2</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="co"># library(ggplot2)</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="co"># # Scatter plot of mills vs xb</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co"># plot1 &lt;- ggplot(wardyads, aes(x = xb, y = mills)) +</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="co">#   geom_line() +</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="co">#   labs(title = "Inverse Mills Ratio vs. Linear Predictor",</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="co">#        x = "Linear Predictor (xb)",</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="co">#        y = "Inverse Mills Ratio")</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a><span class="co"># # Scatter plot of mills vs py1</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a><span class="co"># plot2 &lt;- ggplot(wardyads, aes(x = py1, y = mills)) +</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a><span class="co">#   geom_line() +</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a><span class="co">#   labs(title = "Inverse Mills Ratio vs. Predicted Probability",</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a><span class="co">#        x = "Predicted Probability (py1)",</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a><span class="co">#        y = "Inverse Mills Ratio")</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>Each observation is a participant in a war between 1815 and 1992.</li>
<li>Stronger states win more; democratic states win more.</li>
</ul>
<p>But, is this because democratic states choose the wars they fight with an eye toward winning what with losing being costly in an electoral sense? If this is the case, then we might argue the dependent variable is incidentally truncated - we do not include in the sample any cases where states do not fight - compare this to the wage question above. The incidental truncation occurs due to the (purposefully) chosen value of another variable: do you fight a war?</p>
<p>One way we might think to deal with this is by dealing with the fact that some states don’t fight wars - if we can include these states in the sample, the sample is no longer truncated.</p>
<p>Suppose we code all states that don’t fight wars as zero along with the states that lose wars, and states that win are still coded one.</p>
<p>The variable is no longer truncated - it is censored at zero by the unobserved difference between states that don’t fight and those that fight but lose.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># model of all wars; zero is lose or no war, mixing censoring</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>wars <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">"/Users/dave/Documents/teaching/606J-mle/2022/slides/L13_selection/code/clarkreed.dta"</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co"># recode wl to 0,1; 0 for all NA </span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>wars<span class="sc">$</span>wlcensored <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(wars<span class="sc">$</span>wl <span class="sc">==</span> <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>wars<span class="sc">$</span>wlcensored[<span class="fu">is.na</span>(wars<span class="sc">$</span>wl)] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="co">#filter wars to only include rows where repeat==0 and war!=25</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>wars <span class="ot">&lt;-</span> wars  <span class="sc">%&gt;%</span> <span class="fu">filter</span>(duplicate <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> war <span class="sc">!=</span> <span class="dv">25</span> <span class="sc">|</span> <span class="fu">is.na</span>(war))  </span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Probit regression</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>warcensored <span class="ot">&lt;-</span> <span class="fu">glm</span>(wlcensored <span class="sc">~</span> democ <span class="sc">+</span> cap, <span class="at">data =</span> wars, <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"probit"</span>))</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(<span class="fu">list</span>(<span class="st">"Censored Cases: Win=1, Lose/Not Fight=0"</span> <span class="ot">=</span> warcensored))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<!-- preamble start -->

    <script>
      function styleCell_umeli0npne3bxndhvzc6(i, j, css_id) {
        var table = document.getElementById("tinytable_umeli0npne3bxndhvzc6");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_umeli0npne3bxndhvzc6');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_umeli0npne3bxndhvzc6(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_umeli0npne3bxndhvzc6");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
window.addEventListener('load', function () { styleCell_umeli0npne3bxndhvzc6(0, 0, 'tinytable_css_idqzrg2jp79yih9d982cue') })
window.addEventListener('load', function () { styleCell_umeli0npne3bxndhvzc6(0, 1, 'tinytable_css_idooldpcjflee5ddvsg27s') })
window.addEventListener('load', function () { styleCell_umeli0npne3bxndhvzc6(1, 0, 'tinytable_css_idve4j9zf774jluld3rayw') })
window.addEventListener('load', function () { styleCell_umeli0npne3bxndhvzc6(1, 1, 'tinytable_css_idok9ewg8okqs43uedhue8') })
window.addEventListener('load', function () { styleCell_umeli0npne3bxndhvzc6(2, 0, 'tinytable_css_idve4j9zf774jluld3rayw') })
window.addEventListener('load', function () { styleCell_umeli0npne3bxndhvzc6(2, 1, 'tinytable_css_idok9ewg8okqs43uedhue8') })
window.addEventListener('load', function () { styleCell_umeli0npne3bxndhvzc6(3, 0, 'tinytable_css_idve4j9zf774jluld3rayw') })
window.addEventListener('load', function () { styleCell_umeli0npne3bxndhvzc6(3, 1, 'tinytable_css_idok9ewg8okqs43uedhue8') })
window.addEventListener('load', function () { styleCell_umeli0npne3bxndhvzc6(4, 0, 'tinytable_css_idve4j9zf774jluld3rayw') })
window.addEventListener('load', function () { styleCell_umeli0npne3bxndhvzc6(4, 1, 'tinytable_css_idok9ewg8okqs43uedhue8') })
window.addEventListener('load', function () { styleCell_umeli0npne3bxndhvzc6(5, 0, 'tinytable_css_idve4j9zf774jluld3rayw') })
window.addEventListener('load', function () { styleCell_umeli0npne3bxndhvzc6(5, 1, 'tinytable_css_idok9ewg8okqs43uedhue8') })
window.addEventListener('load', function () { styleCell_umeli0npne3bxndhvzc6(6, 0, 'tinytable_css_id5f6q6vige3vyrt6ipdmv') })
window.addEventListener('load', function () { styleCell_umeli0npne3bxndhvzc6(6, 1, 'tinytable_css_ide4yeslmro2i2os2f2488') })
window.addEventListener('load', function () { styleCell_umeli0npne3bxndhvzc6(7, 0, 'tinytable_css_idve4j9zf774jluld3rayw') })
window.addEventListener('load', function () { styleCell_umeli0npne3bxndhvzc6(7, 1, 'tinytable_css_idok9ewg8okqs43uedhue8') })
window.addEventListener('load', function () { styleCell_umeli0npne3bxndhvzc6(8, 0, 'tinytable_css_idve4j9zf774jluld3rayw') })
window.addEventListener('load', function () { styleCell_umeli0npne3bxndhvzc6(8, 1, 'tinytable_css_idok9ewg8okqs43uedhue8') })
window.addEventListener('load', function () { styleCell_umeli0npne3bxndhvzc6(9, 0, 'tinytable_css_idve4j9zf774jluld3rayw') })
window.addEventListener('load', function () { styleCell_umeli0npne3bxndhvzc6(9, 1, 'tinytable_css_idok9ewg8okqs43uedhue8') })
window.addEventListener('load', function () { styleCell_umeli0npne3bxndhvzc6(10, 0, 'tinytable_css_idve4j9zf774jluld3rayw') })
window.addEventListener('load', function () { styleCell_umeli0npne3bxndhvzc6(10, 1, 'tinytable_css_idok9ewg8okqs43uedhue8') })
window.addEventListener('load', function () { styleCell_umeli0npne3bxndhvzc6(11, 0, 'tinytable_css_idve4j9zf774jluld3rayw') })
window.addEventListener('load', function () { styleCell_umeli0npne3bxndhvzc6(11, 1, 'tinytable_css_idok9ewg8okqs43uedhue8') })
window.addEventListener('load', function () { styleCell_umeli0npne3bxndhvzc6(12, 0, 'tinytable_css_idve4j9zf774jluld3rayw') })
window.addEventListener('load', function () { styleCell_umeli0npne3bxndhvzc6(12, 1, 'tinytable_css_idok9ewg8okqs43uedhue8') })
    </script>

    <style>
    .table td.tinytable_css_idqzrg2jp79yih9d982cue, .table th.tinytable_css_idqzrg2jp79yih9d982cue {  text-align: left;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_idooldpcjflee5ddvsg27s, .table th.tinytable_css_idooldpcjflee5ddvsg27s {  text-align: center;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_idve4j9zf774jluld3rayw, .table th.tinytable_css_idve4j9zf774jluld3rayw {  text-align: left; }
    .table td.tinytable_css_idok9ewg8okqs43uedhue8, .table th.tinytable_css_idok9ewg8okqs43uedhue8 {  text-align: center; }
    .table td.tinytable_css_id5f6q6vige3vyrt6ipdmv, .table th.tinytable_css_id5f6q6vige3vyrt6ipdmv {  border-bottom: solid 0.05em black;  text-align: left; }
    .table td.tinytable_css_ide4yeslmro2i2os2f2488, .table th.tinytable_css_ide4yeslmro2i2os2f2488 {  border-bottom: solid 0.05em black;  text-align: center; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_umeli0npne3bxndhvzc6" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">Censored Cases: Win=1, Lose/Not Fight=0</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>-2.453  </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.056) </td>
                </tr>
                <tr>
                  <td>democ      </td>
                  <td>0.001   </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.011) </td>
                </tr>
                <tr>
                  <td>cap        </td>
                  <td>3.865   </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.519) </td>
                </tr>
                <tr>
                  <td>Num.Obs.   </td>
                  <td>8864    </td>
                </tr>
                <tr>
                  <td>AIC        </td>
                  <td>966.2   </td>
                </tr>
                <tr>
                  <td>BIC        </td>
                  <td>987.5   </td>
                </tr>
                <tr>
                  <td>Log.Lik.   </td>
                  <td>-480.101</td>
                </tr>
                <tr>
                  <td>F          </td>
                  <td>28.826  </td>
                </tr>
                <tr>
                  <td>RMSE       </td>
                  <td>0.10    </td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
<p>Notice that the inferences change as does sample size (necessarily, of course). This approach obviously suffers from the problem that zero can mean two substantively different things - states don’t fight or they do fight but lose. We should never do this.</p>
<p>Instead, let’s implement the Heckman-style procedure by hand - we’re going to estimate a selection equation and an outcome equation. The selection equation will predict whether states fight wars or not, and the outcome equation will predict whether states win wars or not. The selection equation will only contain the observations where states fight wars.</p>
<p>After the selection equation, we’ll generate the predicted probability a dyad fights a war - we’ll include this in the outcome equation to control for the chances of selection into the outcome model. We’re measuring the chances any observation is <em>not</em> censored.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># roll your own heckman</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sampleSelection)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>wars <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">"/Users/dave/Documents/teaching/606J-mle/2022/slides/L13_selection/code/clarkreed.dta"</span>)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>wars <span class="ot">&lt;-</span> wars  <span class="sc">%&gt;%</span> <span class="fu">filter</span>(duplicate <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> war <span class="sc">!=</span> <span class="dv">25</span> <span class="sc">|</span> <span class="fu">is.na</span>(war))  </span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co">#Selection equation (probit)</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>selection_equation <span class="ot">&lt;-</span> <span class="fu">glm</span>(wardicot <span class="sc">~</span> cap <span class="sc">+</span> democ, <span class="at">data =</span> wars, <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"probit"</span>))</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co"># new df with estimation sample from selection equation model</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>wars<span class="sc">$</span>used <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>wars<span class="sc">$</span>used[<span class="fu">na.action</span>(selection_equation)] <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>selection_sample <span class="ot">&lt;-</span> wars <span class="sc">%&gt;%</span>  <span class="fu">filter</span>(used<span class="sc">==</span><span class="st">"TRUE"</span>)</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a><span class="co"># generate in sample predicted probabilities</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>selection_sample<span class="sc">$</span>pry <span class="ot">&lt;-</span> <span class="fu">predict</span>(selection_equation, <span class="at">newdata =</span> selection_sample, <span class="at">type =</span> <span class="st">"response"</span>)</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a><span class="co"># recode wl to 0,1</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>selection_sample<span class="sc">$</span>wl <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(selection_sample<span class="sc">$</span>wl <span class="sc">==</span> <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Outcome equation (censored probit)</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>outcome_equation <span class="ot">&lt;-</span> <span class="fu">glm</span>(wl <span class="sc">~</span> polini <span class="sc">+</span> poltarg <span class="sc">+</span> init <span class="sc">+</span> concap <span class="sc">+</span> capasst <span class="sc">+</span> qualrat <span class="sc">+</span> terrain <span class="sc">+</span> straterr <span class="sc">+</span> strat1 <span class="sc">+</span> strat2 <span class="sc">+</span> strat3 <span class="sc">+</span> strat4 <span class="sc">+</span> pry, </span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>                       <span class="at">data =</span> selection_sample, <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"probit"</span>)) </span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(<span class="fu">list</span>(<span class="st">"Selection: Fight/Don't"</span><span class="ot">=</span>selection_equation, <span class="st">"Outcome: Win/Lose"</span><span class="ot">=</span>outcome_equation))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<!-- preamble start -->

    <script>
      function styleCell_07jnzpl0taf75y6mlzlz(i, j, css_id) {
        var table = document.getElementById("tinytable_07jnzpl0taf75y6mlzlz");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_07jnzpl0taf75y6mlzlz');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_07jnzpl0taf75y6mlzlz(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_07jnzpl0taf75y6mlzlz");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(0, 0, 'tinytable_css_id5w6kyi33pa6uhsd3c0sk') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(0, 1, 'tinytable_css_idtr9fg0lpo3chitbs0n7e') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(0, 2, 'tinytable_css_idtr9fg0lpo3chitbs0n7e') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(1, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(1, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(1, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(2, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(2, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(2, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(3, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(3, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(3, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(4, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(4, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(4, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(5, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(5, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(5, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(6, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(6, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(6, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(7, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(7, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(7, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(8, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(8, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(8, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(9, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(9, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(9, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(10, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(10, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(10, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(11, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(11, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(11, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(12, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(12, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(12, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(13, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(13, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(13, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(14, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(14, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(14, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(15, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(15, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(15, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(16, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(16, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(16, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(17, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(17, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(17, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(18, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(18, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(18, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(19, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(19, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(19, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(20, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(20, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(20, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(21, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(21, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(21, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(22, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(22, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(22, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(23, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(23, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(23, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(24, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(24, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(24, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(25, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(25, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(25, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(26, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(26, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(26, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(27, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(27, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(27, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(28, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(28, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(28, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(29, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(29, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(29, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(30, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(30, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(30, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(31, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(31, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(31, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(32, 0, 'tinytable_css_idsnbxwb0b89cv78hirzft') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(32, 1, 'tinytable_css_idpzp7hu4dkwfsc88a3dog') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(32, 2, 'tinytable_css_idpzp7hu4dkwfsc88a3dog') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(33, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(33, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(33, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(34, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(34, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(34, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(35, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(35, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(35, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(36, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(36, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(36, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(37, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(37, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(37, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(38, 0, 'tinytable_css_id5uqqadajwhonlt52l5yj') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(38, 1, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
window.addEventListener('load', function () { styleCell_07jnzpl0taf75y6mlzlz(38, 2, 'tinytable_css_idx6fpz7r54a8nrtbnmcat') })
    </script>

    <style>
    .table td.tinytable_css_id5w6kyi33pa6uhsd3c0sk, .table th.tinytable_css_id5w6kyi33pa6uhsd3c0sk {  text-align: left;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_idtr9fg0lpo3chitbs0n7e, .table th.tinytable_css_idtr9fg0lpo3chitbs0n7e {  text-align: center;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_id5uqqadajwhonlt52l5yj, .table th.tinytable_css_id5uqqadajwhonlt52l5yj {  text-align: left; }
    .table td.tinytable_css_idx6fpz7r54a8nrtbnmcat, .table th.tinytable_css_idx6fpz7r54a8nrtbnmcat {  text-align: center; }
    .table td.tinytable_css_idsnbxwb0b89cv78hirzft, .table th.tinytable_css_idsnbxwb0b89cv78hirzft {  border-bottom: solid 0.05em black;  text-align: left; }
    .table td.tinytable_css_idpzp7hu4dkwfsc88a3dog, .table th.tinytable_css_idpzp7hu4dkwfsc88a3dog {  border-bottom: solid 0.05em black;  text-align: center; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_07jnzpl0taf75y6mlzlz" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">Selection: Fight/Don't</th>
                <th scope="col">Outcome: Win/Lose</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>-2.088  </td>
                  <td>-5.898   </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.041) </td>
                  <td>(2.139)  </td>
                </tr>
                <tr>
                  <td>cap        </td>
                  <td>3.390   </td>
                  <td>         </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.458) </td>
                  <td>         </td>
                </tr>
                <tr>
                  <td>democ      </td>
                  <td>-0.019  </td>
                  <td>         </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.009) </td>
                  <td>         </td>
                </tr>
                <tr>
                  <td>polini     </td>
                  <td>        </td>
                  <td>0.071    </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>        </td>
                  <td>(0.042)  </td>
                </tr>
                <tr>
                  <td>poltarg    </td>
                  <td>        </td>
                  <td>0.036    </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>        </td>
                  <td>(0.029)  </td>
                </tr>
                <tr>
                  <td>init       </td>
                  <td>        </td>
                  <td>1.262    </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>        </td>
                  <td>(0.364)  </td>
                </tr>
                <tr>
                  <td>concap     </td>
                  <td>        </td>
                  <td>3.541    </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>        </td>
                  <td>(0.706)  </td>
                </tr>
                <tr>
                  <td>capasst    </td>
                  <td>        </td>
                  <td>4.873    </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>        </td>
                  <td>(0.812)  </td>
                </tr>
                <tr>
                  <td>qualrat    </td>
                  <td>        </td>
                  <td>0.051    </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>        </td>
                  <td>(0.034)  </td>
                </tr>
                <tr>
                  <td>terrain    </td>
                  <td>        </td>
                  <td>-11.807  </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>        </td>
                  <td>(4.070)  </td>
                </tr>
                <tr>
                  <td>straterr   </td>
                  <td>        </td>
                  <td>3.803    </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>        </td>
                  <td>(1.309)  </td>
                </tr>
                <tr>
                  <td>strat1     </td>
                  <td>        </td>
                  <td>8.006    </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>        </td>
                  <td>(3.739)  </td>
                </tr>
                <tr>
                  <td>strat2     </td>
                  <td>        </td>
                  <td>-1.144   </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>        </td>
                  <td>(321.198)</td>
                </tr>
                <tr>
                  <td>strat3     </td>
                  <td>        </td>
                  <td>3.705    </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>        </td>
                  <td>(1.933)  </td>
                </tr>
                <tr>
                  <td>strat4     </td>
                  <td>        </td>
                  <td>3.300    </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>        </td>
                  <td>(1.448)  </td>
                </tr>
                <tr>
                  <td>pry        </td>
                  <td>        </td>
                  <td>-0.416   </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>        </td>
                  <td>(9.042)  </td>
                </tr>
                <tr>
                  <td>Num.Obs.   </td>
                  <td>8864    </td>
                  <td>180      </td>
                </tr>
                <tr>
                  <td>AIC        </td>
                  <td>1718.2  </td>
                  <td>139.7    </td>
                </tr>
                <tr>
                  <td>BIC        </td>
                  <td>1739.4  </td>
                  <td>184.4    </td>
                </tr>
                <tr>
                  <td>Log.Lik.   </td>
                  <td>-856.076</td>
                  <td>-55.849  </td>
                </tr>
                <tr>
                  <td>F          </td>
                  <td>27.742  </td>
                  <td>3.927    </td>
                </tr>
                <tr>
                  <td>RMSE       </td>
                  <td>0.14    </td>
                  <td>0.32     </td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
<p>A more precise way to do this would be to use the selection model to compute the Mills ratio, <span class="math inline">\(\frac{\phi(x\beta)}{1-\Phi(x\beta)}\)</span>, and include that in the outcome equation. This is the two-step Heckman structure (though the standard errors are wrong).</p>
<p>An appropriate way to estimate this model is to use the <code>sampleSelection</code> package in R. The model we’ll use is the censored probit (<span class="citation" data-cites="meng85">Meng and Schmidt (<a href="#ref-meng85" role="doc-biblioref">1985</a>)</span>) - it’s a simultaneous equations version of the two-step process we implemented above.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sampleSelection)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>wars <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">"/Users/dave/Documents/teaching/606J-mle/2022/slides/L13_selection/code/clarkreed.dta"</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co">#Selection equation (probit)</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>selection_equation <span class="ot">&lt;-</span> <span class="fu">glm</span>(wardicot <span class="sc">~</span> cap <span class="sc">+</span> democ, <span class="at">data =</span> wars, <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"probit"</span>))</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="co"># recode wl to 0,1</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>wars<span class="sc">$</span>wl <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(wars<span class="sc">$</span>wl <span class="sc">==</span> <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Outcome equation (censored probit)</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>outcome_equation <span class="ot">&lt;-</span> <span class="fu">glm</span>(wl <span class="sc">~</span> polini <span class="sc">+</span> poltarg <span class="sc">+</span> init <span class="sc">+</span> concap <span class="sc">+</span> capasst <span class="sc">+</span> qualrat <span class="sc">+</span> terrain <span class="sc">+</span> straterr <span class="sc">+</span> strat1 <span class="sc">+</span> strat2 <span class="sc">+</span> strat3 <span class="sc">+</span> strat4, </span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>                       <span class="at">data =</span> wars, <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">"probit"</span>)) </span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>heckman_model <span class="ot">&lt;-</span> <span class="fu">selection</span>(</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">selection =</span> wardicot <span class="sc">~</span> cap <span class="sc">+</span> democ,</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">outcome =</span> wl <span class="sc">~</span> polini <span class="sc">+</span> poltarg <span class="sc">+</span> init <span class="sc">+</span> concap <span class="sc">+</span> capasst <span class="sc">+</span> qualrat <span class="sc">+</span> terrain <span class="sc">+</span> straterr <span class="sc">+</span> strat1 <span class="sc">+</span> strat2 <span class="sc">+</span> strat3 <span class="sc">+</span> strat4,</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> wars, <span class="at">method =</span> <span class="st">"ml"</span> </span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary of results</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(<span class="fu">list</span>(<span class="st">"Censored Probit: Fighting and Winning"</span> <span class="ot">=</span> heckman_model))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<!-- preamble start -->

    <script>
      function styleCell_6euq9qsgzujdnbp09hxt(i, j, css_id) {
        var table = document.getElementById("tinytable_6euq9qsgzujdnbp09hxt");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_6euq9qsgzujdnbp09hxt');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_6euq9qsgzujdnbp09hxt(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_6euq9qsgzujdnbp09hxt");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(0, 0, 'tinytable_css_idf21thj5wx6jmbs7xn95a') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(0, 1, 'tinytable_css_id6ah2xr1tmg5z6glzc9z0') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(1, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(1, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(2, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(2, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(3, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(3, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(4, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(4, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(5, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(5, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(6, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(6, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(7, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(7, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(8, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(8, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(9, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(9, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(10, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(10, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(11, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(11, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(12, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(12, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(13, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(13, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(14, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(14, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(15, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(15, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(16, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(16, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(17, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(17, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(18, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(18, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(19, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(19, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(20, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(20, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(21, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(21, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(22, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(22, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(23, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(23, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(24, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(24, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(25, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(25, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(26, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(26, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(27, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(27, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(28, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(28, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(29, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(29, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(30, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(30, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(31, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(31, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(32, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(32, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(33, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(33, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(34, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(34, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(35, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(35, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(36, 0, 'tinytable_css_ido279t1wqy82m8o52eih6') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(36, 1, 'tinytable_css_idya6h0rg3ghtmemacs16d') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(37, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(37, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(38, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(38, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(39, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(39, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(40, 0, 'tinytable_css_idcd4fyjy27splc8ar4lvz') })
window.addEventListener('load', function () { styleCell_6euq9qsgzujdnbp09hxt(40, 1, 'tinytable_css_id2erg52e5jc0n3fe1spna') })
    </script>

    <style>
    .table td.tinytable_css_idf21thj5wx6jmbs7xn95a, .table th.tinytable_css_idf21thj5wx6jmbs7xn95a {  text-align: left;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_id6ah2xr1tmg5z6glzc9z0, .table th.tinytable_css_id6ah2xr1tmg5z6glzc9z0 {  text-align: center;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_idcd4fyjy27splc8ar4lvz, .table th.tinytable_css_idcd4fyjy27splc8ar4lvz {  text-align: left; }
    .table td.tinytable_css_id2erg52e5jc0n3fe1spna, .table th.tinytable_css_id2erg52e5jc0n3fe1spna {  text-align: center; }
    .table td.tinytable_css_ido279t1wqy82m8o52eih6, .table th.tinytable_css_ido279t1wqy82m8o52eih6 {  border-bottom: solid 0.05em black;  text-align: left; }
    .table td.tinytable_css_idya6h0rg3ghtmemacs16d, .table th.tinytable_css_idya6h0rg3ghtmemacs16d {  border-bottom: solid 0.05em black;  text-align: center; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_6euq9qsgzujdnbp09hxt" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">Censored Probit: Fighting and Winning</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>-0.456 </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>-2.064 </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.040)</td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.418)</td>
                </tr>
                <tr>
                  <td>cap        </td>
                  <td>3.908  </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.440)</td>
                </tr>
                <tr>
                  <td>democ      </td>
                  <td>-0.023 </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.009)</td>
                </tr>
                <tr>
                  <td>polini     </td>
                  <td>0.011  </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.006)</td>
                </tr>
                <tr>
                  <td>poltarg    </td>
                  <td>0.012  </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.005)</td>
                </tr>
                <tr>
                  <td>init       </td>
                  <td>0.197  </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.062)</td>
                </tr>
                <tr>
                  <td>concap     </td>
                  <td>0.727  </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.110)</td>
                </tr>
                <tr>
                  <td>capasst    </td>
                  <td>0.931  </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.116)</td>
                </tr>
                <tr>
                  <td>qualrat    </td>
                  <td>0.008  </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.003)</td>
                </tr>
                <tr>
                  <td>terrain    </td>
                  <td>-1.686 </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.513)</td>
                </tr>
                <tr>
                  <td>straterr   </td>
                  <td>0.528  </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.166)</td>
                </tr>
                <tr>
                  <td>strat1     </td>
                  <td>1.081  </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.533)</td>
                </tr>
                <tr>
                  <td>strat2     </td>
                  <td>0.374  </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.406)</td>
                </tr>
                <tr>
                  <td>strat3     </td>
                  <td>0.535  </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.276)</td>
                </tr>
                <tr>
                  <td>strat4     </td>
                  <td>0.557  </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.209)</td>
                </tr>
                <tr>
                  <td>sigma      </td>
                  <td>0.350  </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.018)</td>
                </tr>
                <tr>
                  <td>rho        </td>
                  <td>0.043  </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.364)</td>
                </tr>
                <tr>
                  <td>Num.Obs.   </td>
                  <td>8880   </td>
                </tr>
                <tr>
                  <td>AIC        </td>
                  <td>1992.3 </td>
                </tr>
                <tr>
                  <td>BIC        </td>
                  <td>2120.0 </td>
                </tr>
                <tr>
                  <td>RMSE       </td>
                  <td>0.35   </td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</section>
<section id="also" class="level2">
<h2 class="anchored" data-anchor-id="also">Also …</h2>
<p><img src="dissertation.png" class="img-fluid"></p>



</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a><div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-meng85" class="csl-entry" role="listitem">
Meng, Chun-Lo, and Peter Schmidt. 1985. <span>“On the Costs of Partial Observability in the Bivariate Probit Model.”</span> <em>International Economic Review</em> 26: 71–86.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>